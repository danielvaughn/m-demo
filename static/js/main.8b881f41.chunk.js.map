{"version":3,"sources":["services/util.js","services/tutorials.js","services/template/index.js","services/template/button.js","services/model.js","services/event.js","test/InfoConfirm/index.js","test/Setup/index.js","test/ElementBuilder/index.js","test/ElementSelector/index.js","services/render.js","test/Mock/index.js","test/OrientationGraphic/index.js","test/EditingCanvas/index.js","services/properties.js","test/StyleEditor/index.js","test/SwatchEditor/index.js","test/SwatchBuilder/index.js","test/Save/index.js","test/ContextBuilder/index.js","test/Selector/index.js","test/ContextSelector/index.js","test/FlowBuilder/index.js","test/Canvas/index.js","test/Preview/index.js","test/NavTab/index.js","test/Tutorial/index.js","test/Test/index.js","test/Modal/index.js","App.js","index.js"],"names":["util","hashString","length","chars","split","Math","floor","random","str","i","tutorials","id","title","instructions","services_template","concat","elements","component_id","parent","swatches","element_id","context_id","styles","swatch_id","propInput","domKey","domValue","dimensions","contexts","dimension_id","states","context_id_list","model","components","window","localStorage","getItem","JSON","parse","removeComponent","this","_","filter","component","setItem","stringify","eventService","topics","getTopic","topicId","find","on","callback","refId","topic","queue","push","off","entry","trigger","args","Array","prototype","slice","call","arguments","shift","map","apply","test_InfoConfirm","props","infoType","react_default","a","createElement","className","message","onClick","confirm","yes","no","Setup","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","listenerId","event","e","setState","prevState","state","showTutorial","showLoad","showTemplate","template","templates","flows","prop","stopPropagation","cloneDeep","begin","_this2","bool","tutorial","_this3","_this4","autoComplete","placeholder","type","value","onChange","updateTitle","target","toggleDropdown","onMouseDown","selectTemplate","key","create","loadComponent","loadTutorial","React","Component","ElementBuilder","dragged","throttle","dragOver","filteredComponents","dragTarget","dropTarget","update","newElement","index","findIndex","splice","result","element","el","openId","RegExp","test","dragTargetElement","dropIndex","dropTargetElement","nest","nested","childrenElems","isRoot","children","childElem","renderElement","onDragEnd","dragEnd","onDragStart","dragStart","onDragOver","draggable","autoFocus","spellCheck","onBlur","editTitle","selectComponent","addElement","removeElement","ElementSelector","selected","open","forEach","updateElements","targeted","first","highlight","hasComponent","selectElement","onMouseEnter","enterHighlight","onMouseLeave","services_render","init","style","document","sheet","head","appendChild","destroy","querySelector","parentNode","removeChild","clear","cssRules","rule","deleteRule","render","results","swatch","loadSwatch","css","selector","styleStr","s","hidden","loadStyle","replace","toLowerCase","insertRule","Mock","renderId","renderService","stateView","contextView","elementId","textContent","textContentStyle","ctx","classNames","renderComponent","dir","OrientationGraphic","select","xmlns","viewBox","selectDir","d","transform","EditingCanvas","overlayShow","highlightRef","highlightId","ref","rect","getBoundingClientRect","borderBoxStyle","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","width","height","top","left","marginBoxStyle","marginTop","right","marginRight","bottom","marginBottom","marginLeft","contentBoxStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","test_Mock","renderHighlight","test_OrientationGraphic","toggleOverlay","services_properties","cssId","StyleEditor","availableProperties","properties","focused","delete","filteredProperties","_keyRef","focus","property","forward","findProperty","regex","_valueRef","setTimeout","keyCode","remove","sortBy","toggleStyle","onKeyDown","propKeyDown","onKeyUp","propKeyUp","blur","updateKey","updateValue","SwatchEditor","targetElement","test_StyleEditor","removeStyle","updateStyle","addStyle","SwatchBuilder","context","contextId","swatchLength","swatchId","test_SwatchEditor","removeSwatch","addSwatch","renderContainer","Save","triggerAfter","needsUpdate","updateCounter","commanding","onkeydown","preventDefault","save","onkeyup","saved","ContextBuilder","context_ids","dim","indexOf","dimTitle","ctxDimLength","dimIndex","ctxIndex","updateContextTitle","removeContext","updateDimensionTitle","removeDimension","n","renderContext","addContext","addDimension","Selector","toggle","options","nullValue","opt","ContextSelector","selectedContext","test_Selector","selectContext","FlowBuilder","flow","Canvas","offsetWidth","offsetHeight","offsetTop","offsetLeft","Preview","dimId","ctxId","ctx_ids","values","newIndex","selectedCtx","test_Canvas","NavTab","tab","tabs","tag","test_ElementBuilder","updateComponent","test_ContextBuilder","test_ElementSelector","test_ContextSelector","test_EditingCanvas","test_SwatchBuilder","filterContext","test_FlowBuilder","test_Preview","prevComponent","merge","forIn","v","k","tabId","_this5","exit","_this6","home","test_Save","selectTab","Tutorial","sound","playIndex","play","responsiveVoice","speak","pause","disabled","back","toggleSound","Test","c","test_Tutorial","test_NavTab","test_Setup","Modal","renderFn","App","appClick","test_Test","test_Modal","ReactDOM","src_App_0","getElementById"],"mappings":"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,GAAI,YACJuP,MAAO,cAET,CACEtP,MAAO,cACPD,GAAI,aACJuP,MAAO,eAET,CACEtP,MAAO,mBACPD,GAAI,kBACJuP,MAAO,oBAET,CACEtP,MAAO,aACPD,GAAI,aACJuP,MAAO,cAET,CACEtP,MAAO,YACPD,GAAI,WACJuP,MAAO,aAET,CACEtP,MAAO,cACPD,GAAI,aACJuP,MAAO,eAET,CACEtP,MAAO,cACPD,GAAI,aACJuP,MAAO,eAET,CACEtP,MAAO,aACPD,GAAI,YACJuP,MAAO,cAET,CACEtP,MAAO,cACPD,GAAI,aACJuP,MAAO,eAET,CACEtP,MAAO,kBACPD,GAAI,iBACJuP,MAAO,mBAET,CACEtP,MAAO,UACPD,GAAI,UACJuP,MAAO,WAET,CACEtP,MAAO,aACPD,GAAI,YACJuP,MAAO,cAET,CACEtP,MAAO,aACPD,GAAI,YACJuP,MAAO,cAET,CACEtP,MAAO,aACPD,GAAI,YACJuP,MAAO,cAET,CACEtP,MAAO,aACPD,GAAI,YACJuP,MAAO,cAET,CACEtP,MAAO,YACPD,GAAI,WACJuP,MAAO,aAET,CACEtP,MAAO,UACPD,GAAI,UACJuP,MAAO,WAET,CACEtP,MAAO,cACPD,GAAI,aACJuP,MAAO,eAET,CACEtP,MAAO,gBACPD,GAAI,eACJuP,MAAO,iBAET,CACEtP,MAAO,iBACPD,GAAI,gBACJuP,MAAO,kBAET,CACEtP,MAAO,eACPD,GAAI,cACJuP,MAAO,gBAET,CACEtP,MAAO,SACPD,GAAI,SACJuP,MAAO,UAET,CACEtP,MAAO,eACPD,GAAI,cACJuP,MAAO,gBAET,CACEtP,MAAO,eACPD,GAAI,cACJuP,MAAO,gBAET,CACEtP,MAAO,eACPD,GAAI,cACJuP,MAAO,gBAET,CACEtP,MAAO,mBACPD,GAAI,iBACJuP,MAAO,oBAET,CACEtP,MAAO,mBACPD,GAAI,iBACJuP,MAAO,oBAET,CACEtP,MAAO,mBACPD,GAAI,iBACJuP,MAAO,oBAET,CACEtP,MAAO,qBACPD,GAAI,mBACJuP,MAAO,sBAET,CACEtP,MAAO,qBACPD,GAAI,mBACJu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","file":"static/js/main.8b881f41.chunk.js","sourcesContent":["\nconst util = {\n  hashString() {\n    let length = 8\n    var chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz'.split('');\n\n    if (! length) {\n        length = Math.floor(Math.random() * chars.length);\n    }\n\n    var str = '';\n    for (var i = 0; i < length; i++) {\n        str += chars[Math.floor(Math.random() * chars.length)];\n    }\n    return str;\n  }\n}\n\nexport default util\n","\nimport util from './util'\n\nexport default [\n\n  {\n    id: util.hashString(),\n    title: 'Simple Button',\n    instructions: [\n      'To begin, enter the name \"Simple Button\" into the field at the top of your screen.',\n      'This is the \"Elements\" tab. Elements form the structure of your component.',\n      'Click \"choose from a template\" and then select \"Button\". This will automatically scaffold your component with a template.',\n      'Your button now has 2 elements. It has a container element, with a nested child element for the button text.',\n      'Now navigate to the \"Context\" tab.',\n      'Contexts are the various conditions that affect your component.',\n      'Buttons, for instance, can usually come in several sizes. Lets add those sizes now.',\n      'Use the \"add context\" button to create three contexts, named \"Small\", \"Medium\", and \"Large\".',\n      'Another set of conditions common to buttons is priority. Lets create a few priorities.',\n      'Add two more Contexts named \"Primary\" and \"Secondary\"',\n      'Finally, add one more Context named \"Disabled\".',\n      'Now you have a well defined range of Contexts for your component. You can now begin to style your component. Navigate to the \"Style\" tab to continue.',\n      'This is the \"Style\" tab. This is where you add all styles for your component.',\n      'Notice that the element \"Btn Wrapper\" is selected. The default selected element will always be the root element of your component.',\n      'To the immediate right of the elements menu is the context menu. Notice that no context is selected. This means we are styling the default version of your component.',\n      'All styles are grouped into swatches. Swatches are collections of individual styles.',\n      'Click the \"add swatch\" button on the right side of your screen.',\n      'By default, the swatches name will be the name of the element, and the swatch will have one empty style.',\n      'We are going to give some padding to your button. Type \"padding\" into the style property field, or select it from the dropdown menu.',\n      'Now enter \"8px\" into the style value field to give your button wrapper 8 pixels of padding.',\n      'Add another style, select \"backgroundColor\", and type \"gray\" into the style value field.',\n      'You will notice that the button is a small square. That is because no other styles have been added yet.',\n      'Now lets style the child element. Select the element on the left side of your screen, named \"Btn Copy\".',\n      'Click the \"add swatch\" button.',\n      'Choose \"textContent\" from the style property menu.',\n      '\"textContent\" is not a CSS style, but can be used here to give content to your element. Type \"Click here\" into the style value field.',\n      'Next, add another style for the \"Btn Copy\" element, select \"color\" and type \"white\" into the style value field.',\n      'You now have a component with a set of default styles.',\n      'By selecting a Context other than \"None\", we can provide override styles for each individual Context.',\n      'Click on the context menu dropdown, and choose \"Small\".',\n      'Notice that the swatches have disappeared from the right side of your screen. This is because swatches are defined by the selected context, and no styles have yet been added for the \"Small\" context.',\n      'Make sure the \"Btn Copy\" element is still selected on the left side of your screen.',\n      'Click \"add swatch\" to add a swatch. Notice that the name is \"Btn Copy - Small\".',\n      'Select \"fontSize\" for the style property field, and type \"10px\" into the style value field.',\n      'You can see now that the font size is much smaller, but all other styles have remained the same. This is because you are only overriding the styles from the default Context.',\n      'Now select \"Medium\" from the Context dropdown menu. Add a swatch, choose \"fontSize\" for the style property, and set the style to \"16px\"',\n      'Now select \"Large\" from the Context dropdown menu. Just as before, add one swatch. Give the style a \"fontSize\" of \"20px\".',\n      'You now have defined the styles for your small, medium, and large button contexts. Lets now add styles for each \"priority\" context.',\n      'Select the \"Btn Wrapper\" element on the left side of your screen.',\n      'Select the \"Primary\" context from the Context dropdown menu. Add one swatch.',\n      'Select \"backgroundColor\" and type \"blue\" into the style value field.',\n      'Now select the \"Secondary\" context from the Context dropdown menu. Again, add one swatch.',\n      'Select \"backgroundColor\" again, and type \"lightblue\" into the style value field.',\n      'You are almost done styling your component. Select the final context - \"Disabled\" - from the context menu.',\n      'Make sure the \"Btn Wrapper\" element is selected.',\n      'Add a swatch, then choose \"opacity\" from the style property menu, and type \"0.5\" into the style value field.',\n      'You have now finished styling your component. We can now add state.',\n      'Navigate to the \"State\" tab.',\n      'State is where we bring everything we have created together. A state is formed from an arrangement of contexts.',\n      'Click \"add state\" on the left side of your screen. Name your new state \"Normal\".',\n      'To begin adding contexts to your state, click the arrow icon to the right of your states name field.',\n      'Click \"add a context\" and then choose \"Medium\" to add the Medium context to your Normal State.',\n      'Click \"add a context\" again and then choose \"Primary\".',\n      'Now you have one state for your component, called Normal, that is Medium in size and Primary in priority.',\n      'Add another state, and name it \"Large Secondary\". Add the \"Large\" and \"Secondary\" contexts to it.',\n      'You can now add any new state you wish, using various combinations of your contexts. Try adding one or two of your own.',\n      'To see your component in action, select the \"Preview\" tab.',\n      'Congratulations, you have built your first component. Save your work, and you can load it again to edit it as you wish.',\n      'You are now finished with the tutorial. Goodbye.'\n    ]\n  }\n\n]\n","\nimport button from './button'\n\nexport default [\n  button\n]\n","\nimport util from '../util'\n\nexport default {\n    id: `template_button_${util.hashString()}`,\n    title: 'Button',\n    elements: [\n      {\n        id: 'e10',\n        title: 'Btn Wrapper'\n      },\n      {\n        id: 'e11',\n        title: 'Btn Copy',\n        component_id: null,\n        parent: 'e10'\n      }\n    ],\n    swatches: [\n      {\n        id: 'fquLyENZ',\n        title: 'Btn Wrapper - Default',\n        element_id: 'e10',\n        context_id: null\n      },\n      {\n        id: 'DIcPLPNR',\n        title: 'Btn Copy - Default',\n        element_id: 'e11',\n        context_id: null\n      },\n      {\n        id: 'nRBSU3PQ',\n        title: 'Btn Copy - Small',\n        element_id: 'e11',\n        context_id: 'tZAChXaO'\n      },\n      {\n        id: '9fmicFhI',\n        title: 'Btn Wrapper - Small',\n        element_id: 'e10',\n        context_id: 'tZAChXaO'\n      },\n      {\n        id: 'Tp6rzVnu',\n        title: 'Btn Copy - Medium',\n        element_id: 'e11',\n        context_id: '7bqEfuMw'\n      },\n      {\n        id: '5vH8pzvv',\n        title: 'Btn Wrapper - Medium',\n        element_id: 'e10',\n        context_id: '7bqEfuMw'\n      },\n      {\n        id: 'if02Nu7A',\n        title: 'Btn Copy - Large',\n        element_id: 'e11',\n        context_id: 'HC9HxVBE'\n      },\n      {\n        id: 'TyJsqoIq',\n        title: 'Btn Wrapper - Large',\n        element_id: 'e10',\n        context_id: 'HC9HxVBE'\n      },\n      {\n        id: 'AzXQtw4L',\n        title: 'Btn Wrapper - Primary',\n        element_id: 'e10',\n        context_id: 'vbKOHBWJ'\n      },\n      {\n        id: '3XkymgAn',\n        title: 'Btn Wrapper - Secondary',\n        element_id: 'e10',\n        context_id: '3m0hlryt'\n      },\n      {\n        id: '2CDKKWaE',\n        title: 'Btn Wrapper - Success',\n        element_id: 'e10',\n        context_id: 'QHTzS95r'\n      },\n      {\n        id: 'E0iTtNOU',\n        title: 'Btn Wrapper - Danger',\n        element_id: 'e10',\n        context_id: 'HgAOpgv6'\n      },\n      {\n        id: 'UF4LoEW3',\n        title: 'Btn Wrapper - Enabled',\n        element_id: 'e10',\n        context_id: '9mqdcZ4D'\n      },\n      {\n        id: 'eUcxUawb',\n        title: 'Btn Wrapper - Disabled',\n        element_id: 'e10',\n        context_id: 'm7nQBkrc'\n      }\n    ],\n    styles: [\n      {\n        id: 'O4dP54X5',\n        swatch_id: 'fquLyENZ',\n        propInput: 'Background Color',\n        domKey: 'backgroundColor',\n        domValue: '#888'\n      },\n      {\n        id: 'aUMV2OJD',\n        swatch_id: 'fquLyENZ',\n        propInput: 'Padding',\n        domKey: 'padding',\n        domValue: '8px'\n      },\n      {\n        id: 'dTgFvLxq',\n        swatch_id: 'DIcPLPNR',\n        propInput: 'Color',\n        domKey: 'color',\n        domValue: '#fff'\n      },\n      {\n        id: 'WCSbpON1',\n        swatch_id: 'DIcPLPNR',\n        propInput: 'Text Content',\n        domKey: 'textContent',\n        domValue: 'Click here'\n      },\n      {\n        id: 'Aqz67GD0',\n        swatch_id: 'nRBSU3PQ',\n        propInput: 'Font Size',\n        domKey: 'fontSize',\n        domValue: '10px'\n      },\n      {\n        id: 'VVutEhgq',\n        swatch_id: '9fmicFhI',\n        propInput: 'Padding',\n        domKey: 'padding',\n        domValue: '6px'\n      },\n      {\n        id: 'hHnWpJTN',\n        swatch_id: 'fquLyENZ',\n        propInput: 'Border Radius',\n        domKey: 'borderRadius',\n        domValue: '3px'\n      },\n      {\n        id: 'eDQDpEWr',\n        swatch_id: 'Tp6rzVnu',\n        propInput: 'Font Size',\n        domKey: 'fontSize',\n        domValue: '16px'\n      },\n      {\n        id: 'NgEPrTrs',\n        swatch_id: '5vH8pzvv',\n        propInput: 'Padding',\n        domKey: 'padding',\n        domValue: '10px'\n      },\n      {\n        id: 'cKfuTEvc',\n        swatch_id: 'if02Nu7A',\n        propInput: 'Font Size',\n        domKey: 'fontSize',\n        domValue: '20px'\n      },\n      {\n        id: 'Xf07uGxG',\n        swatch_id: 'TyJsqoIq',\n        propInput: 'Padding',\n        domKey: 'padding',\n        domValue: '14px 20px'\n      },\n      {\n        id: 'sgxUPXCF',\n        swatch_id: 'AzXQtw4L',\n        propInput: 'Background Color',\n        domKey: 'backgroundColor',\n        domValue: '#55aaff'\n      },\n      {\n        id: 'ey1GneGO',\n        swatch_id: '3XkymgAn',\n        propInput: 'Background Color',\n        domKey: 'backgroundColor',\n        domValue: '#a0a0a0'\n      },\n      {\n        id: 'aePcMUy7',\n        swatch_id: '2CDKKWaE',\n        propInput: 'Background Color',\n        domKey: 'backgroundColor',\n        domValue: '#55cc55'\n      },\n      {\n        id: 'CQH5BuTZ',\n        swatch_id: 'E0iTtNOU',\n        propInput: 'Background Color',\n        domKey: 'backgroundColor',\n        domValue: '#ff4444'\n      },\n      {\n        id: '3iqt9Cxc',\n        swatch_id: 'UF4LoEW3',\n        propInput: 'Opacity',\n        domKey: 'opacity',\n        domValue: '1'\n      },\n      {\n        id: 'dlmmvDKf',\n        swatch_id: 'eUcxUawb',\n        propInput: 'Opacity',\n        domKey: 'opacity',\n        domValue: '0.5'\n      },\n      {\n        id: 'k4du8fkl',\n        swatch_id: 'fquLyENZ',\n        propInput: 'Display',\n        domKey: 'display',\n        domValue: 'block'\n      }\n    ],\n    dimensions: [\n      {\n        id: 'd_34958345',\n        title: 'Size'\n      },\n      {\n        id: 'd_92836509',\n        title: 'Type'\n      },\n      {\n        id: 'd_73928456',\n        title: 'Activation'\n      }\n    ],\n    contexts: [\n      {\n        id: 'tZAChXaO',\n        title: 'Small',\n        dimension_id: 'd_34958345'\n      },\n      {\n        id: '7bqEfuMw',\n        title: 'Medium',\n        dimension_id: 'd_34958345'\n      },\n      {\n        id: 'HC9HxVBE',\n        title: 'Large',\n        dimension_id: 'd_34958345'\n      },\n      {\n        id: 'vbKOHBWJ',\n        title: 'Primary',\n        dimension_id: 'd_92836509'\n      },\n      {\n        id: '3m0hlryt',\n        title: 'Secondary',\n        dimension_id: 'd_92836509'\n      },\n      {\n        id: 'QHTzS95r',\n        title: 'Success',\n        dimension_id: 'd_92836509'\n      },\n      {\n        id: 'HgAOpgv6',\n        title: 'Danger',\n        dimension_id: 'd_92836509'\n      },\n      {\n        id: '9mqdcZ4D',\n        title: 'Enabled',\n        dimension_id: 'd_73928456'\n      },\n      {\n        id: 'm7nQBkrc',\n        title: 'Disabled',\n        dimension_id: 'd_73928456'\n      }\n    ],\n    states: [\n      {\n        id: 'JZRHKS8c',\n        title: 'Sm Prim',\n        context_id_list: [\n          'tZAChXaO',\n          'vbKOHBWJ',\n          '9mqdcZ4D'\n        ]\n      },\n      {\n        id: 'xRsJqmR2',\n        title: 'Sm Sec',\n        context_id_list: [\n          'tZAChXaO',\n          '3m0hlryt',\n          '9mqdcZ4D'\n        ]\n      },\n      {\n        id: 'htToBsRL',\n        title: 'Med Prim',\n        context_id_list: [\n          '7bqEfuMw',\n          'vbKOHBWJ',\n          '9mqdcZ4D'\n        ]\n      },\n      {\n        id: '33I5cO1y',\n        title: 'Med Sec',\n        context_id_list: [\n          '7bqEfuMw',\n          '3m0hlryt',\n          '9mqdcZ4D'\n        ]\n      },\n      {\n        id: 'KRGFuF55',\n        title: 'Lg Prim',\n        context_id_list: [\n          'HC9HxVBE',\n          'vbKOHBWJ',\n          '9mqdcZ4D'\n        ]\n      },\n      {\n        id: 'l5N52DEv',\n        title: 'Lg Sec',\n        context_id_list: [\n          'HC9HxVBE',\n          '3m0hlryt',\n          '9mqdcZ4D'\n        ]\n      },\n      {\n        id: '7XvkOB46',\n        title: 'Sm Prim Dis',\n        context_id_list: [\n          'tZAChXaO',\n          'vbKOHBWJ',\n          'm7nQBkrc'\n        ]\n      },\n      {\n        id: '8BGdG142',\n        title: 'Sm Sec Dis',\n        context_id_list: [\n          'tZAChXaO',\n          '3m0hlryt',\n          'm7nQBkrc'\n        ]\n      },\n      {\n        id: 'ldaAJL45',\n        title: 'Md Prim Dis',\n        context_id_list: [\n          '7bqEfuMw',\n          'vbKOHBWJ',\n          'm7nQBkrc'\n        ]\n      },\n      {\n        id: 'vlKyZ3DS',\n        title: 'Md Sec Dis',\n        context_id_list: [\n          '7bqEfuMw',\n          '3m0hlryt',\n          'm7nQBkrc'\n        ]\n      },\n      {\n        id: 'uWrGKgXL',\n        title: 'Lg Prim Dis',\n        context_id_list: [\n          'HC9HxVBE',\n          'vbKOHBWJ',\n          'm7nQBkrc'\n        ]\n      },\n      {\n        id: 'SEW07JnM',\n        title: 'Lg Sec Dis',\n        context_id_list: [\n          'HC9HxVBE',\n          '3m0hlryt',\n          'm7nQBkrc'\n        ]\n      },\n      {\n        id: 'EmnyMywZ',\n        title: 'Sm Danger',\n        context_id_list: [\n          'tZAChXaO',\n          'HgAOpgv6'\n        ]\n      },\n      {\n        id: 'xinr64ES',\n        title: 'Md Danger',\n        context_id_list: [\n          '7bqEfuMw',\n          'HgAOpgv6'\n        ]\n      },\n      {\n        id: '9PzShAvT',\n        title: 'Lg Danger',\n        context_id_list: [\n          'HC9HxVBE',\n          'HgAOpgv6'\n        ]\n      }\n    ]\n}\n","\nimport _ from 'lodash'\n\nexport default {\n\n  components() {\n    let components = window.localStorage.getItem('components')\n    return components ? JSON.parse(components) : []\n  },\n\n  removeComponent(id) {\n    let components = this.components()\n\n    components = _.filter(components, (component) => {\n      return component.id !== id\n    })\n\n    window.localStorage.setItem('components', JSON.stringify(components))\n\n    return components\n  }\n\n}\n","\nimport _ from 'lodash'\n\nconst eventService = {\n\n  topics: [],\n\n  getTopic(topicId) {\n    return _.find(this.topics, {id: topicId}) || null\n  },\n\n  on(topicId, callback, refId) {\n    let topic = this.getTopic(topicId)\n\n    if (!topic) {\n      topic = {\n        id: topicId,\n        queue: [{\n          refId: refId || null,\n          callback: callback\n        }]\n      }\n\n      this.topics.push(topic)\n    } else {\n      topic.queue.push({\n        refId: refId || null,\n        callback: callback\n      })\n    }\n  },\n\n  off(topicId, refId) {\n    if (!refId) {\n      return\n    }\n\n    let topic = this.getTopic(topicId)\n\n    if (!topic) {\n      return\n    }\n\n    topic.queue = _.filter(topic.queue, (entry) => {\n      return entry.refId !== refId\n    })\n  },\n\n  trigger() {\n    let args = Array.prototype.slice.call(arguments)\n    let topicId = args.shift()\n\n    let topic = _.find(this.topics, {id: topicId})\n\n    if (!topic || !topic.queue || !topic.queue.length) {\n      return\n    }\n\n    _.map(topic.queue, (entry) => {\n      if (entry.callback && (typeof entry.callback === 'function')) {\n        entry.callback.apply(null, args)\n      }\n    })\n  }\n\n}\n\nexport default eventService\n","\nimport React from 'react'\nimport './InfoConfirm.css'\n\nexport default (props) => {\n  let infoType = props.infoType || 'default'\n\n  return (\n    <div className={`InfoConfirm ${infoType}`}>\n      <p>{props.message}</p>\n\n      <button onClick={() => props.confirm(true)} className=\"confirm\">{props.yes || 'Ok'}</button>\n      <button onClick={() => props.confirm(false)} className=\"deny\">{props.no || 'Cancel'}</button>\n    </div>\n  )\n}\n","\nimport React from 'react'\nimport './Setup.css'\nimport _ from 'lodash'\nimport util from '../../services/util'\nimport tutorials from '../../services/tutorials'\nimport templates from '../../services/template'\nimport model from '../../services/model'\nimport event from '../../services/event'\nimport InfoConfirm from '../InfoConfirm'\n\nclass Setup extends React.Component {\n\n  constructor(props) {\n    super(props)\n\n    let components = window.localStorage.getItem('components')\n    components = components ? JSON.parse(components) : []\n\n    this.listenerId = util.hashString()\n\n    event.on('appClick', (e) => {\n      this.setState((prevState) => {\n        let state = {}\n\n        if (prevState.showTutorial) {\n          state.showTutorial = false\n        }\n\n        if (prevState.showLoad) {\n          state.showLoad = false\n        }\n\n        if (prevState.showTemplate) {\n          state.showTemplate = false\n        }\n\n        return state\n      })\n    }, this.listenerId)\n\n    let dimension_id = util.hashString()\n\n    this.state = {\n      template: null,\n      templates: templates,\n      tutorials: tutorials,\n      showTutorial: false,\n      showLoad: false,\n      showTemplate: false,\n      components: components,\n      component: {\n        id: util.hashString(),\n        title: '',\n        elements: [\n          {\n            id: util.hashString(),\n            title: 'Container'\n          }\n        ],\n        dimensions: [\n          {\n            id: dimension_id,\n            title: 'Dimension 1'\n          }\n        ],\n        contexts: [\n          {\n            id: util.hashString(),\n            title: 'Context 1',\n            dimension_id: dimension_id\n          }\n        ],\n        swatches: [],\n        styles: [],\n        states: [],\n        flows: []\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    event.off('appClick', this.listenerId)\n  }\n\n  toggleDropdown(e, prop) {\n    e.stopPropagation()\n\n    this.setState((prevState) => {\n      let state = {}\n      state[prop] = !prevState[prop]\n\n      return state\n    })\n  }\n\n  updateTitle(title) {\n    this.setState((prevState) => {\n      let component = _.cloneDeep(prevState.component)\n      component.title = title\n\n      return {\n        component: component\n      }\n    })\n  }\n\n  selectTemplate(template) {\n    this.setState({template: template})\n  }\n\n  loadComponent(component) {\n    this.props.begin(component)\n  }\n\n  removeComponent(e, component) {\n    e.stopPropagation()\n\n    event.trigger('modal', () => {\n      return (\n        <InfoConfirm\n          message=\"Are you sure you want to delete this component?\"\n          yes=\"Yes\"\n          no=\"No\"\n          confirm={(bool) => {\n            event.trigger('modal', null)\n\n            if (bool) {\n              this.setState({\n                components: model.removeComponent(component.id)\n              })\n            }\n          }}>\n        </InfoConfirm>\n      )\n    })\n  }\n\n  loadTutorial(tutorial) {\n    event.trigger('modal', () => {\n      return (\n        <InfoConfirm\n          message=\"Warning! Tutorials do not follow your actions. When finished with an instruction, you must manually click the forward button to proceed.\"\n          confirm={(bool) => {\n            event.trigger('modal', null)\n\n            if (bool) {\n              this.props.tutorial(tutorial)\n              let component = this.state.component\n              component.title = ''\n              this.props.begin(this.state.component)\n            }\n          }}\n        ></InfoConfirm>\n      )\n    })\n  }\n\n  create() {\n    let component = _.cloneDeep(this.state.template || this.state.component)\n    component.title = this.state.component.title\n\n    this.props.begin(component)\n  }\n\n  render() {\n    return (\n      <div className=\"Setup\">\n        <p className=\"intro\">Welcome. To get started, choose one of the options below.</p>\n\n        <div className=\"setup-body\">\n          <div className=\"setup-section\">\n            <h3 className=\"section-title\">\n              New\n              <small>create a new component</small>\n            </h3>\n\n            <input autoComplete=\"off\" placeholder=\"Enter a name\" className=\"name-input\" type=\"text\" id=\"c_title\" value={this.state.component.title} onChange={(e) => this.updateTitle(e.target.value)} />\n\n            <div className=\"component-template\">\n              <label>(optional) select a template</label>\n\n              <button className={`setup-button load\n                ${this.state.showTemplate ? 'open' : ''}\n                ${this.state.templates.length ? '' : 'disabled'}\n                `} onClick={(e) => this.toggleDropdown(e, 'showTemplate')}>\n                {this.state.template ? this.state.template.title : 'None'}\n                <i className=\"fa fa-chevron-down\"></i>\n\n                <ul className=\"load-options\">\n                  <li className=\"load-option\" onMouseDown={() => this.selectTemplate(null)}>None</li>\n                  {this.state.templates.map((template) => {\n                    return (\n                      <li onMouseDown={() => this.selectTemplate(template)} className=\"load-option\" key={template.id}>{template.title}</li>\n                    )\n                  })}\n                </ul>\n              </button>\n            </div>\n\n            <button onClick={() => this.create()} className={`setup-button create ${this.state.component.title ? '' : 'disabled'}`}>Create</button>\n          </div>\n\n          <div className=\"setup-section\">\n            <h3 className=\"section-title\">\n              Load\n              <small>open a saved component</small>\n            </h3>\n\n            <button className={`setup-button load\n              ${this.state.showLoad ? 'open' : ''}\n              ${this.state.components.length ? '' : 'disabled'}\n              `} onClick={(e) => this.toggleDropdown(e, 'showLoad')}>\n              Select a component\n              <i className=\"fa fa-chevron-down\"></i>\n\n              <ul className=\"load-options\">\n                {this.state.components.map((component) => {\n                  return (\n                    <li onMouseDown={() => this.loadComponent(component)} className=\"load-option\" key={component.id}>\n                      {component.title || 'Untitled Component'}\n                      <i onMouseDown={(e) => this.removeComponent(e, component)} className=\"fa fa-times load-option-icon remove\"></i>\n                    </li>\n                  )\n                })}\n              </ul>\n            </button>\n          </div>\n\n          <div className=\"setup-section\">\n            <h3 className=\"section-title\">\n              Tutorial\n              <small>take an interactive tour</small>\n            </h3>\n\n            <button className={`setup-button load\n              ${this.state.showTutorial ? 'open' : ''}\n              ${this.state.tutorials.length ? '' : 'disabled'}\n              `} onClick={(e) => this.toggleDropdown(e, 'showTutorial')}>\n              Select a tutorial\n              <i className=\"fa fa-chevron-down\"></i>\n\n              <ul className=\"load-options\">\n                {this.state.tutorials.map((tutorial) => {\n                  return (\n                    <li onMouseDown={() => this.loadTutorial(tutorial)} className=\"load-option\" key={tutorial.id}>{tutorial.title}</li>\n                  )\n                })}\n              </ul>\n            </button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n}\n\nexport default Setup\n","\nimport React from 'react'\nimport './ElementBuilder.css'\nimport _ from 'lodash'\nimport util from '../../services/util'\n\nclass ElementBuilder extends React.Component {\n\n  constructor(props) {\n    super(props)\n\n    this.dragged = _.throttle(this.dragOver, 100)\n\n    this.state = {\n      filteredComponents: [],\n      dragTarget: null,\n      dropTarget: null\n    }\n  }\n\n  update(elements) {\n    this.props.update({elements: elements})\n  }\n\n  addElement(id) {\n    let elements = _.cloneDeep(this.props.component.elements)\n    let newElement = {\n      id: `el_${util.hashString()}`,\n      title: 'Untitled Element',\n      component_id: null,\n      parent: id\n    }\n\n    if (!elements.length) {\n      this.update([newElement])\n    }\n\n    let index = _.findIndex(elements, {id: id})\n    elements.splice(index + 1, 0, newElement)\n\n    this.update(elements)\n  }\n\n  removeElement(id) {\n    let elements = _.cloneDeep(this.props.component.elements)\n\n    let result = _.filter(elements, (element) => {\n      return element.id !== id && element.parent !== id\n    })\n\n    this.update(result)\n  }\n\n  selectComponent(element, component) {\n    let elements = _.cloneDeep(this.props.component.elements)\n\n    this.update(_.map(elements, (el) => {\n      if (el.id === element.id) {\n        el.title = component.title\n        el.component_id = component.id\n      }\n      return el\n    }))\n\n    this.setState({openId: false, filteredComponents: []})\n  }\n\n  editTitle(id, title) {\n    let elements = _.cloneDeep(this.props.component.elements)\n    let index = _.findIndex(elements, {id: id})\n\n    elements[index].title = title\n\n    this.update(elements)\n\n    let filteredComponents = this.props.components\n\n    if (title) {\n      filteredComponents = _.filter(this.props.components, (component) => {\n        let regex = new RegExp(title, 'gi')\n        return regex.test(component.title)\n      })\n    }\n\n    if (index === 0) {\n      filteredComponents = []\n    }\n\n    this.setState({\n      filteredComponents: filteredComponents,\n      openId: filteredComponents.length ? id : null\n    })\n  }\n\n  dragStart(id) {\n    this.setState({dragTarget: id})\n  }\n\n  dragEnd() {\n    this.setState((prevState) => {\n      if (prevState.dragTarget === prevState.dropTarget) {\n        return null\n      }\n\n      let elements = _.cloneDeep(this.props.component.elements)\n      let dragTargetElement = elements.splice(_.findIndex(elements, {id: prevState.dragTarget}), 1)[0]\n      let dropIndex = _.findIndex(elements, {id: prevState.dropTarget})\n      let dropTargetElement = _.find(elements, {id: prevState.dropTarget})\n\n      if (prevState.nest) {\n        dragTargetElement.parent = prevState.dropTarget\n      } else {\n        dragTargetElement.parent = dropTargetElement.parent || prevState.dropTarget\n      }\n\n      elements.splice(dropIndex + 1, 0, dragTargetElement)\n\n      this.update(elements)\n\n      return {\n        dropTarget: null,\n        nest: false\n      }\n    })\n  }\n\n  dragOver(id, nested) {\n    this.setState({\n      dropTarget: id,\n      nest: !!nested\n    })\n  }\n\n  renderElement(elements, element) {\n    element = element || elements[0]\n    let index = _.findIndex(elements, element)\n    let isRoot = index === 0\n    let children = _.filter(elements, {parent: element.id})\n\n    let childrenElems\n\n    if (children.length) {\n      childrenElems = _.map(children, (childElem) => {\n        return this.renderElement(elements, childElem)\n      })\n    }\n\n    return (\n      <div\n        key={element.id}\n        className={`element-item\n          ${element.component_id ? 'component' : ''}\n          ${this.state.openId === element.id ? 'open' : ''}\n          ${childrenElems ? 'has-children' : ''}\n          ${isRoot ? 'root' : ''}\n          ${this.state.dropTarget === element.id && this.state.nest ? 'dragged' : ''}\n        `}>\n        <span\n          onDragEnd={() => this.dragEnd()}\n          onDragStart={() => this.dragStart(element.id)}\n          onDragOver={() => this.dragOver(element.id, true)}\n          draggable={!isRoot}\n          className=\"element-item-label\">\n\n          <span className=\"element-input-wrapper\">\n            <input\n              autoFocus={index === 0}\n              spellCheck={false}\n              placeholder=\"Enter a name\"\n              className=\"element-item-input\"\n              type=\"text\"\n              value={element.title}\n              onBlur={() => this.setState({openId: null, filteredComponents: []})}\n              onChange={(e) => this.editTitle(element.id, e.target.value)}\n            />\n\n            <ul className=\"element-component-menu\">\n              {this.props.components.map((component) => {\n                return (\n                  <li className=\"element-component-item\" key={component.id} onMouseDown={() => this.selectComponent(element, component)}>{component.title}</li>\n                )\n              })}\n            </ul>\n          </span>\n\n          <span>\n            {(() => {\n              if (element.component_id) {\n                return null\n              }\n              return (\n                <i className=\"fa fa-plus element-item-icon\" onClick={() => this.addElement(element.id)}></i>\n              )\n            })()}\n            <i className=\"fa fa-minus element-item-icon\" onClick={() => this.removeElement(element.id)}></i>\n          </span>\n        </span>\n        <span\n          className={`element-item-divider ${this.state.dropTarget === element.id && !this.state.nest ? 'dragged' : ''}`}\n          onDragOver={() => this.dragOver(element.id, false)}>\n        </span>\n        {childrenElems}\n      </div>\n    )\n  }\n\n  render() {\n    let elements = this.props.component.elements\n\n    return (\n      <div className=\"Builder\">\n        <p className=\"element-cta\">Scaffold your component by adding elements</p>\n\n        <div className=\"elements-list\">\n          {(() => {\n            if (!elements.length) {\n              return (\n                <button className=\"add-element\" onClick={() => this.addElement()}>Add an Element</button>\n              )\n            }\n\n            return this.renderElement(elements)\n          })()}\n        </div>\n\n      </div>\n    )\n  }\n\n}\n\nexport default ElementBuilder\n","\nimport React from 'react'\nimport './ElementSelector.css'\nimport _ from 'lodash'\n\nclass ElementSelector extends React.Component {\n\n  constructor(props) {\n    super(props)\n\n    let component = _.cloneDeep(props.component)\n    if (component.elements.length && !_.find(component.elements, {selected: true})) {\n      component.elements[0].selected = true\n      props.update({elements: component.elements})\n    }\n\n    this.state = {\n      open: false\n    }\n  }\n\n  updateElements(elements) {\n    this.props.update({elements: elements})\n  }\n\n  selectElement(element) {\n    let elements = _.cloneDeep(this.props.component.elements)\n    let bool = !element.selected\n\n    _.forEach(elements, (el) => {\n      el.selected = el.id === element.id ? bool : false\n    })\n\n    this.updateElements(elements)\n  }\n\n  dragOver(e, element) {\n    e.stopPropagation()\n\n    this.updateElements(_.map(this.props.component.elements, (el) => {\n      el.targeted = el.id === element.id\n      return el\n    }))\n  }\n\n  enterHighlight(element) {\n    let component = _.find(this.props.components, {id: element.component_id})\n    if (component) {\n      element = _.first(component.elements)\n    }\n\n    this.props.highlight(element.id)\n  }\n\n  renderElement(elements, element) {\n    element = element || elements[0]\n    let isRoot = _.findIndex(elements, element) === 0\n    let children = _.filter(elements, {parent: element.id})\n\n    let childrenElems\n\n    if (children.length) {\n      childrenElems = _.map(children, (childElem) => {\n        return this.renderElement(elements, childElem)\n      })\n    }\n\n    let hasComponent = !!element.component_id\n\n    return (\n      <div\n        key={element.id}\n        className={`selector-item\n          ${hasComponent ? 'component-item' : ''}\n          ${childrenElems ? 'has-children' : ''}\n          ${isRoot ? 'root' : ''}\n          ${element.selected ? 'selected' : ''}\n        `}>\n        <h3\n          className={`selector-title ${element.targeted ? 'targeted' : ''}`}\n          onDragOver={(e) => this.dragOver(e, element)}\n          onClick={() => this.selectElement(element)}\n          onMouseEnter={() => this.enterHighlight(element)}\n          onMouseLeave={() => this.props.highlight(null)}\n          >\n          {element.title}\n        </h3>\n        {childrenElems}\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"ElementSelector\">\n        {(() => {\n          if (!this.props.component.elements.length) {\n            return null\n          }\n\n          return this.renderElement(this.props.component.elements)\n        })()}\n      </div>\n    )\n  }\n\n}\n\nexport default ElementSelector\n","\nimport _ from 'lodash'\nimport util from './util'\n\nexport default {\n\n  init() {\n    let style = document.createElement('style')\n    style.id = util.hashString()\n    this.sheet = document.head.appendChild(style).sheet\n\n    return style.id\n  },\n\n  destroy(id) {\n    let style = document.querySelector(`#${id}`)\n\n    if (style) {\n      style.parentNode.removeChild(style)\n    }\n  },\n\n  clear() {\n    _.map(this.sheet.cssRules, (rule, index) => {\n      if (this.sheet.cssRules[index]) {\n        this.sheet.deleteRule(index)\n      }\n    })\n  },\n\n  render(component) {\n    let results = []\n\n    component.swatches.map((swatch) => {\n      results.push(this.loadSwatch(swatch, component.styles))\n    })\n\n    results.map((result) => {\n      this.css(result.selector, result.styleStr)\n    })\n  },\n\n  loadSwatch(swatch, styles) {\n    let s = _.filter(styles, {swatch_id: swatch.id})\n\n    let selector = `.swatch-${swatch.id}`\n    let styleStr = ''\n\n    _.map(s, (style) => {\n      if (!style.hidden) {\n        styleStr += `${this.loadStyle(style)} `\n      }\n    })\n\n    return {\n      selector: selector,\n      styleStr: styleStr\n    }\n  },\n\n  loadStyle(style) {\n    return `${style.domKey.replace( /([a-z])([A-Z])/g, '$1-$2' ).toLowerCase()}: ${style.domValue};`\n  },\n\n  css(selector, styleStr) {\n    const rule = `${selector} { ${styleStr} }`\n    const index = this.sheet.cssRules.length\n    this.sheet.insertRule(rule, index)\n  }\n\n}\n","\nimport React from 'react'\nimport './Mock.css'\nimport _ from 'lodash'\nimport renderService from '../../services/render'\n\nclass Mock extends React.Component {\n\n  constructor(props) {\n    super(props)\n\n    this.renderId = renderService.init(props.component)\n\n    this.state = {\n      stateView: !!props.stateView,\n      contextView: !!props.contextView\n    }\n  }\n\n  componentWillUnmount() {\n    renderService.destroy()\n  }\n\n  textContent(component, elementId, contexts) {\n    let textContent = null\n    let swatches = _.filter(component.swatches, {element_id: elementId, context_id: null})\n\n    swatches.map((swatch) => {\n      let textContentStyle = _.find(component.styles, {swatch_id: swatch.id, domKey: 'textContent'})\n\n      if (textContentStyle) {\n        textContent = textContentStyle.domValue\n      }\n\n      return null\n    })\n\n    contexts.map((ctx) => {\n      let swatches = _.filter(component.swatches, {element_id: elementId, context_id: ctx.id})\n\n      return swatches.map((swatch) => {\n        let textContentStyle = _.find(component.styles, {swatch_id: swatch.id, domKey: 'textContent'})\n\n        if (textContentStyle) {\n          textContent = textContentStyle.domValue\n        }\n\n        return null\n      })\n    })\n\n    return textContent\n  }\n\n  classNames(component, elementId, contexts) {\n    let classNames = ''\n    let swatches = _.filter(component.swatches, {element_id: elementId, context_id: null})\n\n    swatches.map((swatch) => {\n      classNames += ` swatch-${swatch.id}`\n      return null\n    })\n\n    contexts.map((ctx) => {\n      let swatches = _.filter(component.swatches, {element_id: elementId, context_id: ctx.id})\n\n      return swatches.map((swatch) => {\n        classNames += ` swatch-${swatch.id}`\n        return null\n      })\n    })\n\n    return classNames\n  }\n\n  renderElement(component, element, contexts) {\n    element = element || component.elements[0]\n    let index = _.findIndex(component.elements, {id: element.id})\n    let children = _.filter(component.elements, {parent: element.id})\n\n    let childrenElems\n\n    if (children.length) {\n      childrenElems = _.map(children, (childElem) => {\n        return this.renderElement(component, childElem, contexts)\n      })\n    }\n\n    if (element.component_id) {\n      let component = _.find(this.props.components, {id: element.component_id})\n      return this.renderComponent(component, null, null)\n    }\n\n    return (\n      <div\n        id={`el-${element.id}`}\n\n        title={element.title}\n        key={element.id}\n        className={`Element\n          ${index === 0 ? 'Component' : ''}\n          ${this.classNames(component, element.id, contexts)}`}\n        >\n        {this.textContent(component, element.id, contexts)}\n        {childrenElems}\n      </div>\n    )\n  }\n\n  renderComponent(component, contexts) {\n    return this.renderElement(component, null, contexts)\n  }\n\n  render() {\n    let dirProp = this.props.dir || 'center'\n    let dir = ''\n\n    switch (dirProp) {\n      case 'north':\n        dir = 'north'\n        break\n      case 'northEast':\n        dir = 'north-east'\n        break\n      case 'east':\n        dir = 'east'\n        break\n      case 'southEast':\n        dir = 'south-east'\n        break\n      case 'south':\n        dir = 'south'\n        break\n      case 'southWest':\n        dir = 'south-west'\n        break\n      case 'west':\n        dir = 'west'\n        break\n      case 'northWest':\n        dir = 'north-west'\n        break\n      default:\n        dir = 'center'\n        break\n    }\n\n    renderService.clear()\n    renderService.render(this.props.component)\n\n    let contexts = _.filter(this.props.component.contexts, {selected: true})\n\n    return (\n      <div className={`Mock ${dir}`}>\n        <div className=\"anchor\">\n          {this.renderComponent(this.props.component, contexts)}\n        </div>\n      </div>\n    )\n  }\n\n}\n\nexport default Mock\n","\nimport React from 'react'\nimport './OrientationGraphic.css'\n\nclass OrientationGraphic extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {}\n  }\n\n  selectDir(e, dir) {\n    e.stopPropagation()\n\n    this.props.select(dir)\n  }\n\n  render() {\n    return (\n      <div className=\"OrientationGraphic\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 176.1 176.05\">\n          <path onClick={(e) => this.selectDir(e, 'north')} className=\"cls-1\" d=\"M98.53,64.49a26.8,26.8,0,0,0-16.84-.07L58.54,7.82a87.68,87.68,0,0,1,63.64.28Z\" transform=\"translate(-1.95 -1.98)\" />\n          <path onClick={(e) => this.selectDir(e, 'northEast')} className=\"cls-2\" d=\"M114.07,78a26.66,26.66,0,0,0-11.85-12L125.87,9.64a87.34,87.34,0,0,1,44.8,45.2Z\" transform=\"translate(-1.95 -1.98)\" />\n          <path onClick={(e) => this.selectDir(e, 'east')} className=\"cls-3\" d=\"M115.51,98.53a26.66,26.66,0,0,0,.07-16.84l56.6-23.16a87.34,87.34,0,0,1-.28,63.64Z\" transform=\"translate(-1.95 -1.98)\" />\n          <path onClick={(e) => this.selectDir(e, 'southEast')} className=\"cls-4\" d=\"M102,114.07a26.66,26.66,0,0,0,12-11.85l56.39,23.65a87.35,87.35,0,0,1-45.2,44.8Z\" transform=\"translate(-1.95 -1.98)\" />\n          <path onClick={(e) => this.selectDir(e, 'south')} className=\"cls-5\" d=\"M90,178a87.54,87.54,0,0,1-32.21-6.12l23.65-56.39a26.8,26.8,0,0,0,16.84.07l23.15,56.6A87.39,87.39,0,0,1,90,178Z\" transform=\"translate(-1.95 -1.98)\" />\n          <path onClick={(e) => this.selectDir(e, 'southWest')} className=\"cls-6\" d=\"M54.13,170.36a87.35,87.35,0,0,1-44.8-45.2L65.93,102a26.66,26.66,0,0,0,11.85,12Z\" transform=\"translate(-1.95 -1.98)\" />\n          <path onClick={(e) => this.selectDir(e, 'west')} className=\"cls-7\" d=\"M7.82,121.46a87.35,87.35,0,0,1,.28-63.64L64.49,81.47a26.66,26.66,0,0,0-.07,16.84Z\" transform=\"translate(-1.95 -1.98)\" />\n          <path onClick={(e) => this.selectDir(e, 'northWest')} className=\"cls-8\" d=\"M9.64,54.13a87.36,87.36,0,0,1,45.2-44.8L78,65.93A26.67,26.67,0,0,0,66,77.78Z\" transform=\"translate(-1.95 -1.98)\" />\n          <path onClick={(e) => this.selectDir(e, 'center')} className=\"cls-9\" d=\"M90,112.91a22.92,22.92,0,1,1,8.66-1.71A22.8,22.8,0,0,1,90,112.91Z\" transform=\"translate(-1.95 -1.98)\" />\n        </svg>\n      </div>\n    )\n  }\n}\n\nexport default OrientationGraphic\n","\nimport React from 'react'\nimport './EditingCanvas.css'\nimport Mock from '../Mock'\nimport OrientationGraphic from '../OrientationGraphic'\n\nclass EditingCanvas extends React.Component {\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      dir: null,\n      overlayShow: false,\n      highlightRef: null\n    }\n  }\n\n  toggleOverlay(e) {\n    e.stopPropagation()\n\n    this.setState({overlayShow: !this.state.overlayShow})\n  }\n\n  selectDir(dir) {\n    this.setState({\n      dir: dir\n    })\n  }\n\n  componentDidUpdate() {\n    if (this.props.highlightId && this.state.highlightRef) {\n      return\n    } else if (!this.props.highlightId && !this.state.highlightRef) {\n      return\n    }\n\n    this.setState({\n      highlightRef: document.querySelector(`#el-${this.props.highlightId}`) || null\n    })\n  }\n\n  renderHighlight(ref) {\n    if (!ref) {\n      return null\n    }\n\n    let rect = ref.getBoundingClientRect()\n\n    let borderBoxStyle = {\n      borderTopWidth: ref.style.borderTopWidth,\n      borderRightWidth: ref.style.borderRightWidth,\n      borderBottomWidth: ref.style.borderBottomWidth,\n      borderLeftWidth: ref.style.borderLeftWidth,\n      width: `${rect.width}px`,\n      height: `${rect.height}px`,\n      top: `${rect.top}px`,\n      left: `${rect.left}px`\n    }\n\n    let marginBoxStyle = {\n      top: `-${ ref.style.marginTop || '0px' }`,\n      right: `-${ ref.style.marginRight || '0px' }`,\n      bottom: `-${ ref.style.marginBottom || '0px' }`,\n      left: `-${ ref.style.marginLeft || '0px' }`\n    }\n\n    let contentBoxStyle = {\n      paddingTop: ref.style.paddingTop,\n      paddingRight: ref.style.paddingRight,\n      paddingBottom: ref.style.paddingBottom,\n      paddingLeft: ref.style.paddingLeft\n    }\n\n    return (\n      <div className=\"highlighter\" style={borderBoxStyle}>\n        <div className=\"highlight-margin-box\" style={marginBoxStyle}></div>\n        <div className=\"highlight-padding-box\"></div>\n        <div className=\"highlight-content-box\" style={contentBoxStyle}></div>\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"EditingCanvas\" onClick={() => this.setState({overlayShow: false})}>\n        {(() => {\n          if (!this.props.component || !this.props.component.elements.length) {\n            return null\n          }\n\n          return (\n            <Mock dir={this.state.dir} components={this.props.components} component={this.props.component} contextView={this.props.contextView} stateView={this.props.stateView}></Mock>\n          )\n        })()}\n\n        {this.renderHighlight(this.state.highlightRef)}\n\n        {(() => {\n          if (!this.state.overlayShow) {\n            return null\n          }\n\n          return (\n            <OrientationGraphic select={(dir) => this.selectDir(dir)}></OrientationGraphic>\n          )\n        })()}\n\n        <div className=\"top-drawer\">\n          <button className=\"top-drawer-button\" onClick={(e) => this.toggleOverlay(e)}>\n            <i className=\"fa fa-circle\"></i>\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n}\n\nexport default EditingCanvas\n","\nexport default [\n\n  {\n    title: 'Width',\n    id: 'width',\n    cssId: 'width'\n  },\n  {\n    title: 'Height',\n    id: 'height',\n    cssId: 'height'\n  },\n  {\n    title: 'Background Color',\n    id: 'backgroundColor',\n    cssId: 'background-color'\n  },\n  {\n    title: 'Color',\n    id: 'color',\n    cssId: 'color'\n  },\n  {\n    title: 'Text Content',\n    id: 'textContent',\n    cssId: null\n  },\n  {\n    title: 'Border Top',\n    id: 'borderTop',\n    cssId: 'border-top'\n  },\n  {\n    title: 'Border Right',\n    id: 'borderRight',\n    cssId: 'border-right'\n  },\n  {\n    title: 'Border Bottom',\n    id: 'borderBottom',\n    cssId: 'border-bottom'\n  },\n  {\n    title: 'Border Left',\n    id: 'borderLeft',\n    cssId: 'border-left'\n  },\n  {\n    title: 'Margin',\n    id: 'margin',\n    cssId: 'margin'\n  },\n  {\n    title: 'Margin Top',\n    id: 'marginTop',\n    cssId: 'margin-top'\n  },\n  {\n    title: 'Margin Right',\n    id: 'marginRight',\n    cssId: 'margin-right'\n  },\n  {\n    title: 'Margin Bottom',\n    id: 'marginBottom',\n    cssId: 'margin-bottom'\n  },\n  {\n    title: 'Margin Left',\n    id: 'marginLeft',\n    cssId: 'margin-left'\n  },\n  {\n    title: 'Border Radius',\n    id: 'borderRadius',\n    cssId: 'border-radius'\n  },\n  {\n    title: 'Border Top Right Radius',\n    id: 'borderTopRightRadius',\n    cssId: 'border-top-right-radius'\n  },\n  {\n    title: 'Border Top Left Radius',\n    id: 'borderTopLeftRadius',\n    cssId: 'border-top-left-radius'\n  },\n  {\n    title: 'Border Bottom Right Radius',\n    id: 'borderBottomRightRadius',\n    cssId: 'border-bottom-right-radius'\n  },\n  {\n    title: 'Border Bottom Left Radius',\n    id: 'borderBottomLeftRadius',\n    cssId: 'border-bottom-left-radius'\n  },\n  {\n    title: 'Display',\n    id: 'display',\n    cssId: 'display'\n  },\n  {\n    title: 'Opacity',\n    id: 'opacity',\n    cssId: 'opacity'\n  },\n  {\n    title: 'Visibility',\n    id: 'visibility',\n    cssId: 'visibility'\n  },\n  {\n    title: 'Flex Direction',\n    id: 'flexDirection',\n    cssId: 'flex-direction'\n  },\n  {\n    title: 'Flex Wrap',\n    id: 'flexWrap',\n    cssId: 'flex-wrap'\n  },\n  {\n    title: 'Flex',\n    id: 'flex',\n    cssId: 'flex'\n  },\n  {\n    title: 'Box Shadow',\n    id: 'boxShadow',\n    cssId: 'box-shadow'\n  },\n  {\n    title: 'Text Shadow',\n    id: 'textShadow',\n    cssId: 'text-shadow'\n  },\n  {\n    title: 'Background Image',\n    id: 'backgroundImage',\n    cssId: 'background-image'\n  },\n  {\n    title: 'Background',\n    id: 'background',\n    cssId: 'background'\n  },\n  {\n    title: 'Font Size',\n    id: 'fontSize',\n    cssId: 'font-size'\n  },\n  {\n    title: 'Font Family',\n    id: 'fontFamily',\n    cssId: 'font-family'\n  },\n  {\n    title: 'Line Height',\n    id: 'lineHeight',\n    cssId: 'line-height'\n  },\n  {\n    title: 'Font Style',\n    id: 'fontStyle',\n    cssId: 'font-style'\n  },\n  {\n    title: 'Font Weight',\n    id: 'fontWeight',\n    cssId: 'font-weight'\n  },\n  {\n    title: 'Text Decoration',\n    id: 'textDecoration',\n    cssId: 'text-decoration'\n  },\n  {\n    title: 'Outline',\n    id: 'outline',\n    cssId: 'outline'\n  },\n  {\n    title: 'Text Align',\n    id: 'textAlign',\n    cssId: 'text-align'\n  },\n  {\n    title: 'Overflow X',\n    id: 'overflowX',\n    cssId: 'overflow-x'\n  },\n  {\n    title: 'Overflow Y',\n    id: 'overflowY',\n    cssId: 'overflow-y'\n  },\n  {\n    title: 'Max Height',\n    id: 'maxHeight',\n    cssId: 'max-height'\n  },\n  {\n    title: 'Max Width',\n    id: 'maxWidth',\n    cssId: 'max-width'\n  },\n  {\n    title: 'Padding',\n    id: 'padding',\n    cssId: 'padding'\n  },\n  {\n    title: 'Padding Top',\n    id: 'paddingTop',\n    cssId: 'padding-top'\n  },\n  {\n    title: 'Padding Right',\n    id: 'paddingRight',\n    cssId: 'padding-right'\n  },\n  {\n    title: 'Padding Bottom',\n    id: 'paddingBottom',\n    cssId: 'padding-bottom'\n  },\n  {\n    title: 'Padding Left',\n    id: 'paddingLeft',\n    cssId: 'padding-left'\n  },\n  {\n    title: 'Border',\n    id: 'border',\n    cssId: 'border'\n  },\n  {\n    title: 'Border Width',\n    id: 'borderWidth',\n    cssId: 'border-width'\n  },\n  {\n    title: 'Border Style',\n    id: 'borderStyle',\n    cssId: 'border-style'\n  },\n  {\n    title: 'Border Color',\n    id: 'borderColor',\n    cssId: 'border-color'\n  },\n  {\n    title: 'Border Top Width',\n    id: 'borderTopWidth',\n    cssId: 'border-top-width'\n  },\n  {\n    title: 'Border Top Style',\n    id: 'borderTopStyle',\n    cssId: 'border-top-style'\n  },\n  {\n    title: 'Border Top Color',\n    id: 'borderTopColor',\n    cssId: 'border-top-color'\n  },\n  {\n    title: 'Border Right Width',\n    id: 'borderRightWidth',\n    cssId: 'border-right-width'\n  },\n  {\n    title: 'Border Right Style',\n    id: 'borderRightStyle',\n    cssId: 'border-right-style'\n  },\n  {\n    title: 'Border Right Color',\n    id: 'borderRightColor',\n    cssId: 'border-right-color'\n  },\n  {\n    title: 'Border Bottom Width',\n    id: 'borderBottomWidth',\n    cssId: 'border-bottom-width'\n  },\n  {\n    title: 'Border Bottom Style',\n    id: 'borderBottomStyle',\n    cssId: 'border-bottom-style'\n  },\n  {\n    title: 'Border Bottom Color',\n    id: 'borderBottomColor',\n    cssId: 'border-bottom-color'\n  },\n  {\n    title: 'Border Left Width',\n    id: 'borderLeftWidth',\n    cssId: 'border-left-width'\n  },\n  {\n    title: 'Border Left Style',\n    id: 'borderLeftStyle',\n    cssId: 'border-left-style'\n  },\n  {\n    title: 'Border Left Color',\n    id: 'borderLeftColor',\n    cssId: 'border-left-color'\n  }\n\n]\n","\nimport React from 'react'\nimport './StyleEditor.css'\nimport _ from 'lodash'\nimport properties from '../../services/properties'\n\nclass StyleEditor extends React.Component {\n\n  constructor(props) {\n    super(props)\n\n    this.availableProperties = properties\n\n    this.state = {\n      open: false,\n      focused: false,\n      delete: false,\n      filteredProperties: this.availableProperties\n    }\n  }\n\n  toggleStyle() {\n    let style = _.cloneDeep(this.props.style)\n    style.hidden = !style.hidden\n\n    this.props.update(style)\n  }\n\n  componentDidMount() {\n    if (this._keyRef) {\n      this._keyRef.focus()\n    }\n  }\n\n  findProperty(propInput) {\n    let property\n    property = property || _.find(this.availableProperties, {id: propInput})\n    property = property || _.find(this.availableProperties, {title: propInput})\n    property = property || _.find(this.availableProperties, {cssId: propInput})\n\n    return property\n  }\n\n  updateKey(propInput, property) {\n    let style = _.cloneDeep(this.props.style)\n    let forward = false\n\n    if (property) {\n      forward = true\n      style.domKey = property.cssId\n      style.propInput = property.title\n    } else {\n      property = this.findProperty(propInput)\n      style.domKey = property ? property.cssId : propInput\n      style.propInput = propInput\n    }\n\n    this.props.update(style)\n\n    this.setState((prevState) => {\n      let regex = new RegExp(propInput, 'gi')\n\n      return {\n        filteredProperties: _.filter(this.availableProperties, (property) => {\n          return regex.test(property.id) || regex.test(property.cssId) || regex.test(property.title)\n        })\n      }\n    })\n\n    if (forward && this._valueRef) {\n      window.setTimeout(() => {\n        this._valueRef.focus()\n      }, 0)\n    }\n  }\n\n  updateValue(value) {\n    let style = _.cloneDeep(this.props.style)\n    style.domValue = value\n\n    this.props.update(style)\n  }\n\n  focus() {\n    this.setState({\n      focused: true\n    })\n  }\n\n  blur() {\n    this.setState({\n      delete: false,\n      focused: false\n    })\n  }\n\n  propKeyDown(e) {\n    if (e.keyCode === 27) {\n      this.setState({focused: false})\n    }\n\n    let style = _.cloneDeep(this.props.style)\n\n    if (e.keyCode === 8 && this.state.delete) {\n      this.props.remove(style.id)\n    }\n  }\n\n  propKeyUp(e) {\n    let state = {}\n\n    let style = _.cloneDeep(this.props.style)\n\n    state.delete = e.keyCode === 8 && !style.domKey\n    state.focused = e.keyCode !== 27 && e.keyCode !== 8\n\n    this.setState(state)\n  }\n\n  render() {\n    let style = this.props.style\n    let properties = _.sortBy(this.state.filteredProperties, (property) => {\n      return property.id\n    })\n\n    return (\n      <div className={`StyleEditor\n        ${this.state.delete ? 'delete' : ''}\n        ${this.state.open ? 'open' : ''}\n        ${style.hidden ? 'hidden' : ''}\n      `}>\n        <ul className=\"style-header-list\">\n          <li className=\"style-header-item\" onClick={() => this.toggleStyle()}>\n            <i className=\"fa fa-eye style-header-icon\"></i>\n          </li>\n        </ul>\n\n        <div className=\"style-input dom-key\">\n          <input\n            ref={(e) => this._keyRef = e}\n            className={this.state.focused ? 'focused' : ''}\n            onKeyDown={(e) => this.propKeyDown(e)}\n            onKeyUp={(e) => this.propKeyUp(e)}\n            onBlur={() => this.blur()}\n            onClick={() => this.focus()}\n            placeholder=\"enter a style property\"\n            type=\"text\"\n            value={style.propInput}\n            onChange={(e) => this.updateKey(e.target.value)}\n          />\n\n          <ul className=\"key-dropdown\">\n            {properties.map((property) => {\n              return (\n                <li key={property.id} onMouseDown={() =>  this.updateKey(property.cssId, property)} className=\"key-item\">{property.title}</li>\n              )\n            })}\n          </ul>\n        </div>\n        <div className=\"style-input dom-value\">\n          <input\n            ref={(e) => this._valueRef = e}\n            placeholder=\"enter a style value\"\n            type=\"text\"\n            value={style.domValue}\n            onChange={(e) => this.updateValue(e.target.value)}\n          />\n        </div>\n        <div className=\"style-icon\" onClick={() => this.setState({open: !this.state.open})}>\n          <i className={`fa fa-chevron-${this.state.open ? 'down' : 'up'}`}></i>\n        </div>\n      </div>\n    )\n  }\n\n}\n\nexport default StyleEditor\n","\nimport React from 'react'\nimport './SwatchEditor.css'\nimport _ from 'lodash'\nimport StyleEditor from '../StyleEditor'\nimport util from '../../services/util'\n\nclass SwatchEditor extends React.Component {\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      open: true\n    }\n  }\n\n  updateStyle(style) {\n    let styles = _.cloneDeep(this.props.component.styles)\n    let index = _.findIndex(styles, {id: style.id})\n\n    styles[index] = style\n\n    this.props.update({styles: styles})\n  }\n\n  updateTitle(title) {\n    let swatch = this.props.swatch\n    let swatches = _.cloneDeep(this.props.component.swatches)\n    let index = _.findIndex(swatches, {id: swatch.id})\n\n    swatch.title = title\n\n    swatches[index] = swatch\n\n    this.props.update({swatches: swatches})\n  }\n\n  addStyle() {\n    let style = {\n      id: util.hashString(),\n      propInput: '',\n      swatch_id: this.props.swatch.id,\n      domKey: '',\n      domValue: ''\n    }\n\n    let styles = _.cloneDeep(this.props.component.styles)\n\n    styles.push(style)\n\n    this.props.update({styles: styles})\n  }\n\n  removeStyle(id) {\n    let styles = _.filter(this.props.component.styles, (style) => {\n      return style.id !== id\n    })\n\n    this.props.update({styles: styles})\n  }\n\n  dragStart(swatch) {\n    let swatches = _.cloneDeep(this.props.component.swatches)\n    _.find(swatches, {id: swatch.id}).dragged = true\n\n    this.props.update({swatches: swatches})\n  }\n\n  dragEnd(swatch) {\n    let targetElement = _.find(this.props.component.elements, {targeted: true})\n\n    let swatches = _.map(this.props.component.swatches, (s) => {\n      if (s.dragged) {\n        s.element_id = targetElement ? targetElement.id : s.element_id\n      }\n\n      s.dragged = false\n      return s\n    })\n\n    let elements = _.map(this.props.component.elements, (element) => {\n      element.targeted = false\n      return element\n    })\n\n    this.props.update({\n      swatches: swatches,\n      elements: elements\n    })\n  }\n\n  render() {\n    let swatch = this.props.swatch\n    let styles = _.filter(this.props.component.styles, {swatch_id: swatch.id})\n\n    return (\n      <div\n        className={`SwatchEditor ${this.state.open ? 'open' : ''}`}\n        draggable={true}\n        onDragStart={() => this.dragStart(swatch)}\n        onDragEnd={() => this.dragEnd(swatch)}>\n        <div className=\"swatch-header\">\n          <input className=\"swatch-title\" type=\"text\" value={swatch.title} onChange={(e) => this.updateTitle(e.target.value)} />\n          <i className={`fa fa-${this.state.open ? 'minus' : 'plus'} swatch-header-icon toggle`} onClick={() => this.setState({open: !this.state.open})}></i>\n          <i className=\"fa fa-times swatch-header-icon remove\" onClick={() => this.props.remove(swatch.id)}></i>\n        </div>\n\n        <div className=\"style-list\">\n          {styles.map((style, i) => {\n            return (\n              <StyleEditor index={i} remove={(id) => this.removeStyle(id)} update={(style) => this.updateStyle(style)} key={style.id} style={style}></StyleEditor>\n            )\n          })}\n          <button className=\"add-style\" onClick={() => this.addStyle()}>\n            add style\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n}\n\nexport default SwatchEditor\n","\nimport React from 'react'\nimport './SwatchBuilder.css'\nimport _ from 'lodash'\nimport util from '../../services/util'\nimport SwatchEditor from '../SwatchEditor'\n\nclass SwatchBuilder extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {}\n  }\n\n  update(swatches) {\n    this.props.update({swatches: swatches})\n  }\n\n  addSwatch() {\n    let element = _.find(this.props.component.elements, {selected: true})\n    let context = _.find(this.props.component.contexts, {selected: true})\n    let contextId = context ? context.id : null\n\n    if (!element) {\n      return\n    }\n\n    let swatchLength = _.filter(this.props.component.swatches, (swatch) => {\n      return swatch.element_id === element.id && swatch.context_id === contextId\n    }).length\n\n    let title = element.title\n    if (swatchLength) {\n      title = 'Untitled Swatch'\n    }\n\n    title += ` - ${context ? context.title : 'Default'}`\n\n    let swatchId = util.hashString()\n\n    let swatches = this.props.component.swatches.concat([\n      {\n        id: swatchId,\n        title: title,\n        element_id: element.id,\n        context_id: context ? context.id : null\n      }\n    ])\n\n    let styles = this.props.component.styles.concat([\n      {\n        id: util.hashString(),\n        swatch_id: swatchId,\n        propInput: '',\n        domKey: '',\n        domValue: ''\n      }\n    ])\n\n    this.props.update({\n      swatches: swatches,\n      styles: styles\n    })\n  }\n\n  removeSwatch(id) {\n    let styles = _.filter(this.props.component.styles, (style) => {\n      return style.swatch_id !== id\n    })\n\n    let swatches = _.filter(this.props.component.swatches, (swatch) => {\n      return swatch.id !== id\n    })\n\n    this.props.update({\n      swatches: swatches,\n      styles: styles\n    })\n  }\n\n  renderContainer(element, swatches) {\n    swatches = swatches || []\n\n    return (\n      <div className=\"SwatchBuilder\">\n        {swatches.map((swatch) => {\n          return (\n            <SwatchEditor remove={(id) => this.removeSwatch(id)} update={(component) => this.props.update(component)} key={swatch.id} component={this.props.component} swatch={swatch}></SwatchEditor>\n          )\n        })}\n\n        <button className={`add-swatch ${element ? '' : 'disabled'}`} onClick={() => this.addSwatch()}>\n          add swatch\n        </button>\n      </div>\n    )\n  }\n\n  render() {\n    let context = _.find(this.props.component.contexts, {selected: true}) || {}\n    let element = _.find(this.props.component.elements, {selected: true})\n\n    if (!element) {\n      return this.renderContainer()\n    }\n\n    let swatches = _.filter(this.props.component.swatches, {element_id: element.id, context_id: context.id || null})\n\n    return this.renderContainer(element, swatches)\n  }\n}\n\nexport default SwatchBuilder\n","\nimport React from 'react'\nimport './Save.css'\nimport _ from 'lodash'\n\nclass Save extends React.Component {\n\n  constructor(props) {\n    super(props)\n\n    this.triggerAfter = props.triggerAfter || 20\n\n    this.state = {\n      needsUpdate: false,\n      updateCounter: 0,\n      commanding: false\n    }\n\n    window.onkeydown = (e) => {\n      if (e.keyCode === 83 && this.state.commanding) {\n        e.preventDefault()\n\n        this.save()\n        this.setState({commanding: false})\n      }\n\n      if (e.keyCode === 91) {\n        this.setState({commanding: true})\n      }\n    }\n\n    window.onkeyup = (e) => {\n      if (e.keyCode === 91) {\n        this.setState({commanding: false})\n      }\n    }\n  }\n\n  componentWillReceiveProps(props) {\n    if (this.state.updateCounter >= this.triggerAfter) {\n      return this.save()\n    }\n\n    this.setState({\n      needsUpdate: true,\n      updateCounter: this.state.updateCounter + 1\n    })\n\n    this.props.saved(false)\n  }\n\n  save() {\n    let components = window.localStorage.getItem('components')\n    components = components ? JSON.parse(components) : []\n\n    let index = _.findIndex(components, {id: this.props.component.id})\n\n    if (index >= 0) {\n      components[index] = this.props.component\n    } else {\n      components.push(this.props.component)\n    }\n\n    window.localStorage.setItem('components', JSON.stringify(components))\n\n    this.setState({\n      needsUpdate: false,\n      updateCounter: 0\n    })\n    this.props.saved(true)\n  }\n\n  render() {\n    return (\n      <button className={`Save ${this.state.needsUpdate ? '' : 'disabled'}`} onClick={() => this.save()}>\n        Save\n      </button>\n    )\n  }\n\n}\n\nexport default Save\n","\nimport React from 'react'\nimport './ContextBuilder.css'\nimport _ from 'lodash'\nimport util from '../../services/util'\n\nclass ContextBuilder extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      dragTarget: null,\n      dropTarget: null\n    }\n  }\n\n  addDimension() {\n    let dimensions = this.props.component.dimensions\n\n    dimensions.push(\n      {\n        id: util.hashString(),\n        title: `Dimension ${dimensions.length + 1}`\n      }\n    )\n\n    this.props.update({dimensions: dimensions})\n  }\n\n  removeDimension(id) {\n    let context_ids = []\n\n    let dimensions = _.filter(this.props.component.dimensions, (dim) => {\n      return dim.id !== id\n    })\n\n    let contexts = _.filter(this.props.component.contexts, (ctx) => {\n      if (ctx.dimension_id === id) {\n        context_ids.push(ctx.id)\n      }\n      return ctx.dimension_id !== id\n    })\n\n    let swatches = _.filter(this.props.component.swatches, (swatch) => {\n      return context_ids.indexOf(swatch.context_id) === -1\n    })\n\n    this.props.update({\n      dimensions: dimensions,\n      contexts: contexts,\n      swatches: swatches\n    })\n  }\n\n  addContext(dimension_id) {\n    let contexts = this.props.component.contexts\n    let dimTitle = _.find(this.props.component.dimensions, {id: dimension_id}).title\n    let ctxDimLength = _.filter(contexts, {dimension_id: dimension_id}).length\n\n    contexts.push(\n      {\n        id: util.hashString(),\n        title: `${dimTitle} ${ctxDimLength + 1}`,\n        dimension_id: dimension_id\n      }\n    )\n\n    this.props.update({contexts: contexts})\n  }\n\n  removeContext(id) {\n    let contexts = _.filter(this.props.component.contexts, (ctx) => {\n      return ctx.id !== id\n    })\n\n    let swatches = _.filter(this.props.component.swatches, (swatch) => {\n      return swatch.context_id !== id\n    })\n\n    this.props.update({\n      contexts: contexts,\n      swatches: swatches\n    })\n  }\n\n  updateContextTitle(id, title) {\n    let contexts = _.cloneDeep(this.props.component.contexts)\n    let index = _.findIndex(contexts, {id: id})\n\n    contexts[index].title = title\n\n    this.props.update({\n      contexts: contexts\n    })\n  }\n\n  updateDimensionTitle(id, title) {\n    let dimensions = _.cloneDeep(this.props.component.dimensions)\n    let index = _.findIndex(dimensions, {id: id})\n\n    dimensions[index].title = title\n\n    this.props.update({\n      dimensions: dimensions\n    })\n  }\n\n  dragStart(id) {\n    this.setState({dragTarget: id})\n  }\n\n  dragEnd() {\n    this.setState((prevState) => {\n      if (prevState.dragTarget === prevState.dropTarget) {\n        return null\n      }\n\n      let contexts = _.cloneDeep(this.props.component.contexts)\n      let dragTargetElement = contexts.splice(_.findIndex(contexts, {id: prevState.dragTarget}), 1)[0]\n      let dropIndex = _.findIndex(contexts, {id: prevState.dropTarget})\n\n      contexts.splice(dropIndex + 1, 0, dragTargetElement)\n\n      this.props.update({\n        contexts: contexts\n      })\n\n      return {\n        dropTarget: null\n      }\n    })\n  }\n\n  dragOver(id) {\n    this.setState({\n      dropTarget: id\n    })\n  }\n\n  renderContext(ctx, dimIndex, ctxIndex) {\n    let autoFocus = dimIndex === 0 && ctxIndex === 0\n    return (\n      <div\n        className=\"ctx\"\n        onDragEnd={() => this.dragEnd()}\n        onDragStart={() => this.dragStart(ctx.id)}\n        onDragOver={() => this.dragOver(ctx.id)}\n        draggable={true}>\n        <input\n          autoFocus={autoFocus}\n          className=\"ctx-input\"\n          type=\"text\"\n          value={ctx.title}\n          onChange={(e) => this.updateContextTitle(ctx.id, e.target.value)}\n        />\n        <i className=\"fa fa-times ctx-remove\" onClick={() => this.removeContext(ctx.id)}></i>\n      </div>\n    )\n  }\n\n  render() {\n    let component = this.props.component\n\n    if (!component) {\n      return null\n    }\n\n    return (\n      <div className=\"ContextBuilder\">\n        <p className=\"context-cta\">Give options to your component by adding contexts</p>\n\n        <ul className=\"dimension-menu\">\n          {component.dimensions.map((dim, i) => {\n            return (\n              <li key={dim.id} className=\"dimension-menu-item\">\n                {(() => {\n                  let contexts = _.filter(component.contexts, {dimension_id: dim.id})\n\n                  return (\n                    <div className=\"ctx-wrapper\">\n                      <h3 className=\"ctx-wrapper-title\">\n                        <input\n                          type=\"text\"\n                          className=\"ctx-wrapper-input\"\n                          onChange={(e) => this.updateDimensionTitle(dim.id, e.target.value)}\n                          value={dim.title}\n                        />\n                        <i className=\"fa fa-times remove-dim\" onClick={() => this.removeDimension(dim.id)}></i>\n                      </h3>\n\n                      <ul className=\"context-menu\">\n                        {contexts.map((ctx, n) => {\n                          return (\n                            <li className=\"context-menu-item\" key={ctx.id}>\n                              {this.renderContext(ctx, i, n)}\n                              <div\n                                className={`divider ${this.state.dropTarget === ctx.id ? 'dragged' : ''}`}\n                                onDragOver={() => this.dragOver(ctx.id)}>\n                              </div>\n                            </li>\n                          )\n                        })}\n                      </ul>\n\n                      <button className=\"add-context\" onClick={() => this.addContext(dim.id)}>\n                        add a context\n                      </button>\n                    </div>\n                  )\n                })()}\n              </li>\n            )\n          })}\n          <li className=\"dimension-menu-item\">\n            <button className=\"add-dimension\" onClick={() => this.addDimension()}>\n              Add dimension\n              <i className=\"fa fa-plus\"></i>\n            </button>\n          </li>\n        </ul>\n      </div>\n    )\n  }\n}\n\nexport default ContextBuilder\n","\nimport React from 'react'\nimport './Selector.css'\nimport _ from 'lodash'\n\nclass Selector extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {}\n  }\n\n  toggle(e) {\n    e.stopPropagation()\n\n    this.props.toggle()\n  }\n\n  select(e, id) {\n    e.stopPropagation()\n\n    this.props.select(id)\n  }\n\n  render() {\n    let options = this.props.options\n    let selected = _.find(options, {selected: true}) || {\n      id: 0,\n      title: 'None'\n    }\n\n    return (\n      <div className={`Selector ${this.props.open ? 'open' : ''}`}>\n        <h4 className=\"selector-title\" onClick={(e) => this.toggle(e)}>\n          {selected.title}\n          <i className={`fa fa-chevron-${this.props.open ? 'up' : 'down'}`}></i>\n        </h4>\n\n        <ul className=\"selector-menu\">\n          <li className=\"selector-menu-item\" onClick={(e) => this.select(e, null)}>{this.props.nullValue}</li>\n          {options.map((opt) => {\n            return (\n              <li\n                key={opt.id}\n                className={`selector-menu-item ${opt.id === selected.id ? 'selected' : ''}`}\n                onClick={(e) => this.select(e, opt.id)}>\n                {opt.title}\n              </li>\n            )\n          })}\n        </ul>\n      </div>\n    )\n  }\n}\n\nexport default Selector\n","\nimport React from 'react'\nimport './ContextSelector.css'\nimport _ from 'lodash'\nimport Selector from '../Selector'\nimport event from '../../services/event'\nimport util from '../../services/util'\n\nclass ContextSelector extends React.Component {\n  constructor(props) {\n    super(props)\n\n    let selectedContext = _.find(props.component.contexts, {selected: true})\n\n    this.listenerId = util.hashString()\n\n    event.on('appClick', () => {\n      this.setState({open: false})\n    }, this.listenerId)\n\n    this.state = {\n      open: false,\n      selectedContext: selectedContext ? selectedContext.id : null\n    }\n  }\n\n  componentWillUnmount() {\n    event.off('appClick', this.listenerId)\n  }\n\n  selectContext(id) {\n    let contexts = _.map(this.props.component.contexts, (ctx) => {\n      ctx.selected = ctx.id === id ? !ctx.selected : false\n\n      return ctx\n    })\n\n    this.props.update({contexts: contexts})\n\n    this.setState({\n      selectedContext: id,\n      open: false\n    })\n  }\n\n  render() {\n    let contexts = this.props.component.contexts\n\n    return (\n      <div className=\"ContextSelector\">\n        <Selector\n          nullValue=\"Default (None)\"\n          open={this.state.open}\n          toggle={() => this.setState({open: !this.state.open})}\n          select={(id) => this.selectContext(id)}\n          options={contexts}>\n        </Selector>\n      </div>\n    )\n  }\n}\n\nexport default ContextSelector\n","\nimport React from 'react'\nimport './FlowBuilder.css'\n\nclass FlowBuilder extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {}\n  }\n\n  render() {\n    let flows = this.props.component.flows || []\n\n    return (\n      <div className=\"FlowBuilder\">\n\n        <ul className=\"flow-menu\">\n          {flows.map((flow) => {\n            return (\n              <li key={flow.id} className=\"flow-menu-item\">\n                {flow.title}\n              </li>\n            )\n          })}\n        </ul>\n\n      </div>\n    )\n  }\n}\n\nexport default FlowBuilder\n","\nimport React from 'react'\nimport './Canvas.css'\nimport Mock from '../Mock'\n\nclass Canvas extends React.Component {\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      highlightRef: null\n    }\n  }\n\n  componentDidUpdate() {\n    if (this.props.highlightId && this.state.highlightRef) {\n      return\n    } else if (!this.props.highlightId && !this.state.highlightRef) {\n      return\n    }\n\n    this.setState({\n      highlightRef: document.querySelector(`#el-${this.props.highlightId}`) || null\n    })\n  }\n\n  renderHighlight(ref) {\n    let borderBoxStyle = {\n      borderTopWidth: ref.style.borderTopWidth,\n      borderRightWidth: ref.style.borderRightWidth,\n      borderBottomWidth: ref.style.borderBottomWidth,\n      borderLeftWidth: ref.style.borderLeftWidth,\n      width: `${ref.offsetWidth}px`,\n      height: `${ref.offsetHeight}px`,\n      top: `${ref.offsetTop}px`,\n      left: `${ref.offsetLeft}px`\n    }\n\n    let marginBoxStyle = {\n      top: `-${ ref.style.marginTop || '0px' }`,\n      right: `-${ ref.style.marginRight || '0px' }`,\n      bottom: `-${ ref.style.marginBottom || '0px' }`,\n      left: `-${ ref.style.marginLeft || '0px' }`\n    }\n\n    let contentBoxStyle = {\n      paddingTop: ref.style.paddingTop,\n      paddingRight: ref.style.paddingRight,\n      paddingBottom: ref.style.paddingBottom,\n      paddingLeft: ref.style.paddingLeft\n    }\n\n    return (\n      <div className=\"highlighter\" style={borderBoxStyle}>\n        <div className=\"highlight-margin-box\" style={marginBoxStyle}></div>\n        <div className=\"highlight-padding-box\"></div>\n        <div className=\"highlight-content-box\" style={contentBoxStyle}></div>\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"Canvas\">\n        {(() => {\n          if (!this.props.component || !this.props.component.elements.length) {\n            return null\n          }\n\n          return (\n            <Mock components={this.props.components} component={this.props.component} contextView={this.props.contextView} stateView={this.props.stateView}></Mock>\n          )\n        })()}\n\n        <div className=\"overlay\">\n          {(() => {\n            if (!this.state.highlightRef) {\n              return null\n            }\n\n            return this.renderHighlight(this.state.highlightRef)\n          })()}\n        </div>\n      </div>\n    )\n  }\n\n}\n\nexport default Canvas\n","\nimport React from 'react'\nimport './Preview.css'\nimport _ from 'lodash'\nimport Canvas from '../Canvas'\nimport event from '../../services/event'\nimport util from '../../services/util'\n\nclass Preview extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.listenerId = util.hashString()\n\n    let component = _.cloneDeep(props.component)\n    component.contexts = _.map(component.contexts, (ctx) => {\n      ctx.selected = false\n      return ctx\n    })\n\n    this.state = {\n      openId: null,\n      component: component,\n      contexts: {}\n    }\n\n    event.on('appClick', () => {\n      this.setState({openId: null})\n    }, this.listenerId)\n  }\n\n  componentWillUnmount() {\n    event.off('appClick', this.listenerId)\n  }\n\n  toggle(e, dimension_id) {\n    e.stopPropagation()\n    this.setState({openId: this.state.openId === dimension_id ? null : dimension_id})\n  }\n\n  selectContext(e, dimId, ctxId) {\n    e.stopPropagation()\n\n    this.setState((prevState) => {\n      let contexts = _.cloneDeep(prevState.contexts)\n\n      if (contexts[dimId] === ctxId) {\n        return null\n      }\n\n      contexts[dimId] = ctxId\n\n      let component = _.cloneDeep(prevState.component)\n\n      let ctx_ids = _.values(contexts)\n\n      component.contexts = _.map(component.contexts, (ctx) => {\n        ctx.selected = ctx_ids.indexOf(ctx.id) > -1\n        return ctx\n      })\n\n      return {\n        component: component,\n        openId: null,\n        contexts: contexts\n      }\n    })\n  }\n\n  select(id) {\n    this.setState((prevState) => {\n      let states = _.map(prevState.component.states, (state) => {\n        state.selected = state.id === id\n        return state\n      })\n\n      let component = prevState.component\n      component.states = states\n\n      return {\n        component: component\n      }\n    })\n  }\n\n  forward() {\n    this.setState((prevState) => {\n      let component = prevState.component\n      let index = _.findIndex(component.states, {selected: true})\n\n      let newIndex = index === -1 ? 0 : (index + 1)\n\n      if (newIndex >= (component.states.length)) {\n        newIndex = 0\n      }\n\n      if (component.states[index]) {\n        component.states[index].selected = false\n      }\n      component.states[newIndex].selected = true\n\n      return {\n        component: component\n      }\n    })\n  }\n\n  back() {\n    this.setState((prevState) => {\n      let component = _.cloneDeep(prevState.component)\n      let index = _.findIndex(component.states, {selected: true})\n      let newIndex = (index === -1) ? 0 : (index - 1)\n\n      if (newIndex === -1) {\n        newIndex = (component.states.length - 1)\n      }\n\n      if (component.states[index]) {\n        component.states[index].selected = false\n      }\n      component.states[newIndex].selected = true\n\n      return {\n        component: component\n      }\n    })\n  }\n\n  render() {\n    let component = this.state.component\n\n    return (\n      <div className=\"Preview\">\n        <div className=\"side-panel\">\n          <ul className=\"dimension-menu\">\n            {component.dimensions.map((dim) => {\n              let selectedCtx = _.find(component.contexts, {id: this.state.contexts[dim.id] || ''}) || {}\n              let contexts = _.filter(component.contexts, {dimension_id: dim.id})\n              let open = dim.id === this.state.openId\n\n              return (\n                <li key={dim.id} className=\"dimension-menu-item\">\n                  <h5>{dim.title}</h5>\n                  <div className={`dimension-dropdown ${open ? 'open' : ''}`}>\n                    <h4 className=\"dimension-dropdown-title\" onClick={(e) => this.toggle(e, dim.id)}>\n                      {selectedCtx.title || 'Default (None)'}\n                      <i className={`fa fa-chevron-${open ? 'up' : 'down'}`}></i>\n                    </h4>\n\n                    <ul className=\"dropdown-menu\">\n                      <li className=\"dropdown-menu-item\" onClick={(e) => this.selectContext(e, dim.id, null)}>Default (None)</li>\n                      {contexts.map((ctx) => {\n                        return (\n                          <li\n                            key={ctx.id}\n                            className={`dropdown-menu-item ${ctx.id === selectedCtx.id ? 'selected' : ''}`}\n                            onClick={(e) => this.selectContext(e, dim.id, ctx.id)}>\n                            {ctx.title}\n                          </li>\n                        )\n                      })}\n                    </ul>\n                  </div>\n                </li>\n              )\n            })}\n          </ul>\n        </div>\n\n        <div className=\"main-panel\">\n          {/* <div className=\"state-view-selector\">\n            <i className={`fa fa-chevron-left state-view-dir ${!component.states.length ? 'disabled' : ''}`} onClick={() => this.back()}></i>\n            <ul className=\"state-view-menu\">\n              {component.states.map((state) => {\n                return (\n                  <li onClick={() => this.select(state.id)} key={state.id} className={`state-view-item ${state.selected ? 'active' : ''}`}>{state.title}</li>\n                )\n              })}\n            </ul>\n            <i className={`fa fa-chevron-right state-view-dir ${!component.states.length ? 'disabled' : ''}`} onClick={() => this.forward()}></i>\n          </div> */}\n          <Canvas components={this.props.components} component={component} stateView={true}></Canvas>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Preview\n","\nimport React from 'react'\nimport './NavTab.css'\nimport _ from 'lodash'\nimport ElementBuilder from '../ElementBuilder'\nimport ElementSelector from '../ElementSelector'\nimport EditingCanvas from '../EditingCanvas'\nimport SwatchBuilder from '../SwatchBuilder'\nimport Save from '../Save'\nimport ContextBuilder from '../ContextBuilder'\nimport ContextSelector from '../ContextSelector'\nimport FlowBuilder from '../FlowBuilder'\nimport Preview from '../Preview'\nimport event from '../../services/event'\nimport InfoConfirm from '../InfoConfirm'\n\nclass NavTab extends React.Component {\n\n  constructor(props) {\n    super(props)\n\n    this.saved = true\n\n    this.state = {\n      highlightId: null,\n      component: props.component,\n      tab: 'elements',\n      tabs: [\n        {\n          id: 'elements',\n          title: 'Elements',\n          tag: 'Build'\n        },\n        {\n          id: 'context',\n          title: 'Context',\n          tag: 'Build'\n        },\n        {\n          id: 'style',\n          title: 'Style',\n          tag: 'Design'\n        },\n        {\n          id: 'flow',\n          title: 'Flow',\n          tag: 'Design'\n        },\n        {\n          id: 'inspect',\n          title: 'Inspect',\n          tag: 'View'\n        },\n        {\n          id: 'preview',\n          title: 'Preview',\n          tag: 'View'\n        }\n      ]\n    }\n  }\n\n  dragOver() {\n    this.setState((prevState) => {\n      let component = _.cloneDeep(prevState.component)\n\n      component.elements = _.map(component.elements, (element) => {\n        element.targeted = false\n        return element\n      })\n\n      return {\n        component: component\n      }\n    })\n  }\n\n  updateTitle(title) {\n    this.setState((prevState) => {\n      let component = _.cloneDeep(prevState.component)\n\n      component.title = title\n\n      return {\n        component: component\n      }\n    })\n  }\n\n  render_elements() {\n    return (\n      <div className=\"build\">\n        <ElementBuilder components={this.props.components} component={this.state.component} update={(component) => this.updateComponent(component)}></ElementBuilder>\n      </div>\n    )\n  }\n\n  render_context() {\n    return (\n      <div className=\"context\">\n        <ContextBuilder component={this.state.component} update={(component) => this.updateComponent(component)}></ContextBuilder>\n      </div>\n    )\n  }\n\n  highlight(id) {\n    this.setState({highlightId: id})\n  }\n\n  render_style() {\n    return (\n      <div className=\"style\">\n        <div className=\"style-section\">\n          <h4 className=\"subtitle\">Element</h4>\n          <ElementSelector components={this.props.components} highlight={(id) => this.highlight(id)} update={(component) => this.updateComponent(component)} component={this.state.component}></ElementSelector>\n        </div>\n        <div className=\"style-section\">\n          <h4 className=\"subtitle\">Context</h4>\n          <ContextSelector update={(component) => this.updateComponent(component)} component={this.state.component}></ContextSelector>\n        </div>\n        <div className=\"style-section expand\">\n          <h4 className=\"subtitle\">Canvas</h4>\n          <EditingCanvas highlightId={this.state.highlightId} contextView={true} component={this.state.component} components={this.props.components}></EditingCanvas>\n        </div>\n        <div className=\"style-section\">\n          <h4 className=\"subtitle\">Swatch</h4>\n          <SwatchBuilder update={(component) => this.updateComponent(component)} filterContext={false} component={this.state.component}></SwatchBuilder>\n        </div>\n      </div>\n    )\n  }\n\n  render_flow() {\n    return (\n      <div className=\"flow\">\n        <FlowBuilder component={this.state.component}></FlowBuilder>\n      </div>\n    )\n  }\n\n  render_inspect() {\n    return (\n      <div className=\"inspect\">\n        <p>Coming soon</p>\n      </div>\n    )\n  }\n\n  render_preview() {\n    return (\n      <div className=\"preview\">\n        <Preview components={this.props.components} component={this.state.component}></Preview>\n      </div>\n    )\n  }\n\n  updateComponent(component) {\n    this.setState((prevState) => {\n      let prevComponent = prevState.component\n\n      _.merge(prevComponent, component)\n\n      _.forIn(component, (v, k) => {\n        prevComponent[k] = v\n      })\n\n      return {\n        component: prevComponent\n      }\n    })\n  }\n\n  selectTab(tabId) {\n    this.setState({tab: tabId})\n  }\n\n  home() {\n    if (this.saved) {\n      return this.props.exit()\n    }\n\n    event.trigger('modal', () => {\n      return (\n        <InfoConfirm\n          message=\"You have unsaved progress. Are you sure you want to leave?\"\n          yes=\"Yes\"\n          no=\"No\"\n          confirm={(bool) => {\n            event.trigger('modal', null)\n\n            if (bool) {\n              this.props.exit()\n            }\n          }}>\n        </InfoConfirm>\n      )\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"NavTab\" onDragOver={() => this.dragOver()}>\n        <div className=\"tab-header\">\n          <h1 className=\"tab-header-title\">\n            <i onClick={() => this.home()} className=\"fa fa-home tab-header-title-icon\"></i>\n          </h1>\n\n          <div className=\"meta-info\">\n            <input placeholder=\"Enter a name\" type=\"text\" value={this.state.component.title} onChange={(e) => this.updateTitle(e.target.value)} />\n            <Save saved={(bool) => this.saved = bool} component={this.state.component}></Save>\n          </div>\n\n          <ul className=\"tab-header-list\">\n            {this.state.tabs.map((tab) => {\n              return (\n                <li\n                  key={`t_${tab.id}`}\n                  onClick={() => this.selectTab(tab.id)}\n                  className={`tab-header-item ${tab.id === this.state.tab ? 'active' : ''}`}>\n                  <small className={`tab-header-sub-title ${tab.tag}`}>{tab.tag}</small>\n                  {tab.id === 'setup' && this.state.component.title ? this.state.component.title : tab.title}\n                </li>\n              )\n            })}\n          </ul>\n        </div>\n\n        <div className=\"tab-body\">\n          {this[`render_${this.state.tab}`]()}\n        </div>\n      </div>\n    )\n  }\n\n}\n\nexport default NavTab\n","\nimport React from 'react'\nimport './Tutorial.css'\n\nclass Tutorial extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      sound: true,\n      playIndex: 0\n    }\n\n    if (props.tutorial) {\n      window.setTimeout(() => {\n        this.play()\n      }, 1000)\n    }\n  }\n\n  back() {\n    this.setState((prevState) => {\n      return {\n        playIndex: prevState.playIndex - 1\n      }\n    }, () => {\n      this.play()\n    })\n  }\n\n  forward() {\n    this.setState((prevState) => {\n      return {\n        playIndex: prevState.playIndex + 1\n      }\n    }, () => {\n      this.play()\n    })\n  }\n\n  play() {\n    if (this.state.sound) {\n      window.responsiveVoice.speak(this.props.tutorial.instructions[this.state.playIndex])\n    }\n  }\n\n  pause() {\n    window.responsiveVoice.pause()\n  }\n\n  toggleSound() {\n    if (this.state.sound) {\n      this.pause()\n    }\n    this.setState({sound: !this.state.sound})\n  }\n\n  render() {\n    let tutorial = this.props.tutorial\n\n    if (!tutorial) {\n      return null\n    }\n\n    return (\n      <div className=\"Tutorial\">\n        <button disabled={this.state.playIndex === 0} className=\"tutorial-btn\" onClick={() => this.back()}>\n          <i className=\"fa fa-arrow-left\"></i>\n        </button>\n\n        <p className=\"tutorial-message\">\n          {tutorial.instructions[this.state.playIndex]}\n        </p>\n\n        <div className=\"tutorial-cta\">\n          <button className=\"tutorial-btn\" onClick={() => this.toggleSound()}>\n            <i className={`fa fa-microphone${this.state.sound ? '' : '-slash'}`}></i>\n          </button>\n\n          <button className=\"tutorial-btn\" onClick={() => this.play()}>\n            <i className=\"fa fa-play\"></i>\n          </button>\n\n          <button className=\"tutorial-btn\" onClick={() => this.pause()}>\n            <i className=\"fa fa-pause\"></i>\n          </button>\n\n          <button disabled={this.state.playIndex === tutorial.instructions.length - 1} className=\"tutorial-btn\" onClick={() => this.forward()}>\n            <i className=\"fa fa-arrow-right\"></i>\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Tutorial\n","\nimport React from 'react'\nimport './Test.css'\nimport Setup from '../Setup'\nimport NavTab from '../NavTab'\nimport Tutorial from '../Tutorial'\nimport model from '../../services/model'\nimport _ from 'lodash'\n\nclass Test extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      tutorial: null,\n      component: null,\n      components: []\n    }\n  }\n\n  loadTutorial(tutorial) {\n    this.setState({tutorial: tutorial})\n  }\n\n  begin(component) {\n    let components = model.components()\n    this.setState({\n      component: component,\n      components: _.filter(components, (c) => {\n        return c.id !== component.id\n      })\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"Test\">\n        {(() => {\n          if (this.state.tutorial) {\n            return (\n              <Tutorial tutorial={this.state.tutorial}></Tutorial>\n            )\n          }\n\n          return null\n        })()}\n\n        {(() => {\n          if (this.state.component) {\n            return (\n              <NavTab exit={() => this.setState({component: null})} components={this.state.components} component={this.state.component}></NavTab>\n            )\n          }\n\n          return (\n            <Setup tutorial={(tutorial) => this.loadTutorial(tutorial)} begin={(component) => this.begin(component)}></Setup>\n          )\n        })()}\n      </div>\n    )\n  }\n}\n\nexport default Test\n","\nimport React from 'react'\nimport './Modal.css'\nimport event from '../../services/event'\n\nclass Modal extends React.Component {\n\n  constructor(props) {\n    super(props)\n\n    event.on('modal', (renderFn) => {\n      this.setState({renderFn: renderFn})\n    })\n\n    this.state = {\n      renderFn: null\n    }\n  }\n\n  render() {\n    return (\n      <div className={`Modal ${this.state.renderFn ? 'open' : ''}`}>\n        <div className=\"modal-content\">\n          {this.state.renderFn ? this.state.renderFn() : null}\n        </div>\n      </div>\n    )\n  }\n\n}\n\nexport default Modal\n","\nimport React, { Component } from 'react'\nimport './App.css'\nimport Test from './test/Test'\nimport Modal from './test/Modal'\nimport event from './services/event'\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props)\n\n    this.state = {}\n  }\n\n  appClick(e) {\n    event.trigger('appClick', e)\n  }\n\n  render() {\n    return (\n      <div className=\"App\" onClick={(e) => this.appClick(e)}>\n        <Test></Test>\n        <Modal></Modal>\n      </div>\n    )\n  }\n}\n\nexport default App\n","\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}