(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports=n(40)},,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(9),i=n.n(r),s=(n(15),n(2)),l=n(3),c=n(5),u=n(4),d=n(6),p=(n(17),n(19),n(1)),m=n.n(p),h=(n(22),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).dragged=m.a.throttle(n.dragOver,100),n.state={dragTarget:null,dropTarget:null},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"update",value:function(e){this.props.update({elements:e})}},{key:"addElement",value:function(e){var t=m.a.cloneDeep(this.props.component.elements),n={id:"e".concat(t.length+10),title:"Untitled Element",parent:e};t.length||this.update([n]);var a=m.a.findIndex(t,{id:e});t.splice(a+1,0,n),this.update(t)}},{key:"removeElement",value:function(e){var t=m.a.cloneDeep(this.props.component.elements),n=m.a.filter(t,function(t){return t.id!==e&&t.parent!==e});this.update(n)}},{key:"editTitle",value:function(e,t){var n=m.a.cloneDeep(this.props.component.elements);n[m.a.findIndex(n,{id:e})].title=t,this.update(n)}},{key:"dragStart",value:function(e){this.setState({dragTarget:e})}},{key:"dragEnd",value:function(){var e=this;this.setState(function(t){if(t.dragTarget===t.dropTarget)return null;var n=m.a.cloneDeep(e.props.component.elements),a=n.splice(m.a.findIndex(n,{id:t.dragTarget}),1)[0],o=m.a.findIndex(n,{id:t.dropTarget}),r=m.a.find(n,{id:t.dropTarget});return t.nest?a.parent=t.dropTarget:a.parent=r.parent||t.dropTarget,n.splice(o+1,0,a),e.update(n),{dropTarget:null,nest:!1}})}},{key:"dragOver",value:function(e,t){this.setState({dropTarget:e,nest:!!t})}},{key:"renderElement",value:function(e,t){var n=this;t=t||e[0];var a,r=0===m.a.findIndex(e,t),i=m.a.filter(e,{parent:t.id});return i.length&&(a=m.a.map(i,function(t){return n.renderElement(e,t)})),o.a.createElement("div",{key:t.id,className:"element-item\n          ".concat(a?"has-children":"","\n          ").concat(r?"root":"","\n          ").concat(this.state.dropTarget===t.id&&this.state.nest?"dragged":"","\n        ")},o.a.createElement("span",{onDragEnd:function(){return n.dragEnd()},onDragStart:function(){return n.dragStart(t.id)},onDragOver:function(){return n.dragOver(t.id,!0)},draggable:!r,className:"element-item-label"},o.a.createElement("input",{placeholder:"Enter a name",className:"element-item-input",type:"text",value:t.title,onChange:function(e){return n.editTitle(t.id,e.target.value)}}),o.a.createElement("span",null,o.a.createElement("i",{className:"fa fa-plus element-item-icon",onClick:function(){return n.addElement(t.id)}}),o.a.createElement("i",{className:"fa fa-minus element-item-icon",onClick:function(){return n.removeElement(t.id)}}))),o.a.createElement("span",{className:"element-item-divider ".concat(this.state.dropTarget!==t.id||this.state.nest?"":"dragged"),onDragOver:function(){return n.dragOver(t.id,!1)}}),a)}},{key:"render",value:function(){var e=this,t=this.props.component.elements;return o.a.createElement("div",{className:"Builder"},o.a.createElement("div",{className:"elements-list"},t.length?e.renderElement(t):o.a.createElement("button",{onClick:function(){return e.addElement()}},"Add an Element")))}}]),t}(o.a.Component)),f=(n(24),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"updateElements",value:function(e){this.props.update({elements:e})}},{key:"selectElement",value:function(e){var t=m.a.cloneDeep(this.props.component.elements),n=!e.selected;m.a.forEach(t,function(t){t.selected=t.id===e.id&&n}),this.updateElements(t)}},{key:"renderElement",value:function(e,t){var n=this;t=t||e[0];var a,r=0===m.a.findIndex(e,t),i=m.a.filter(e,{parent:t.id});return i.length&&(a=m.a.map(i,function(t){return n.renderElement(e,t)})),o.a.createElement("div",{key:t.id,className:"selector-item\n          ".concat(a?"has-children":"","\n          ").concat(r?"root":"","\n          ").concat(t.selected?"selected":"","\n        ")},o.a.createElement("h3",{onClick:function(){return n.selectElement(t)},className:"selector-title"},t.title),a)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"ElementSelector"},e.props.component.elements.length?e.renderElement(e.props.component.elements):null)}}]),t}(o.a.Component)),v=(n(26),n(28),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"renderStyles",value:function(e){var t=this,n=m.a.filter(this.props.component.swatches,{element_id:e,context_id:null}),a={};return n.map(function(e){m.a.filter(t.props.component.styles,{swatch_id:e.id}).map(function(e){a[e.domKey]=e.domValue})}),a}},{key:"renderElement",value:function(e,t){var n=this;t=t||e[0];var a,r=m.a.filter(e,{parent:t.id});r.length&&(a=m.a.map(r,function(t){return n.renderElement(e,t)}));var i=this.renderStyles(t.id);return o.a.createElement("div",{style:i,title:t.title,key:t.id,className:"Element"},i.textContent||null,a)}},{key:"render",value:function(){var e=this.props.component.elements;return o.a.createElement("div",{className:"Mock"},this.renderElement(e))}}]),t}(o.a.Component)),g=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"Canvas"},e.props.component&&e.props.component.elements.length?o.a.createElement(v,{component:e.props.component}):null)}}]),t}(o.a.Component),y=(n(30),{hashString:function(){var e=8,t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split("");e||(e=Math.floor(Math.random()*t.length));for(var n="",a=0;a<e;a++)n+=t[Math.floor(Math.random()*t.length)];return n}}),b=(n(32),n(34),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).availableDomKeys=["width","height","backgroundColor","color","textContent","paddingBottom","paddingTop","paddingRight","paddingLeft","borderTop","borderRight","borderBottom","borderLeft","marginTop","marginLeft","marginBottom","marginRight","borderTopRightRadius","borderTopLeftRadius","borderBottomRightRadius","borderBottomLeftRadius","display","opacity","visibility","flexDirection","flexWrap","flex","boxShadow","textShadow","backgroundImage","background","fontSize","fontFamily","lineHeight","fontStyle","fontWeight","textDecoration","outline","textAlign","overflowX","overflowY","maxHeight","maxWidth"],n.state={focused:!1},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"updateKey",value:function(e){console.log(e);var t=m.a.cloneDeep(this.props.style);t.domKey=e,this.props.update(t),this.setState({focused:!1})}},{key:"updateValue",value:function(e){var t=m.a.cloneDeep(this.props.style);t.domValue=e,this.props.update(t)}},{key:"focus",value:function(){this.setState({focused:!0})}},{key:"blur",value:function(){this.setState({focused:!1})}},{key:"render",value:function(){var e=this,t=this.props.style,n=this.availableDomKeys;return o.a.createElement("div",{className:"StyleEditor"},o.a.createElement("div",{className:"style-input dom-key"},o.a.createElement("input",{className:this.state.focused?"focused":"",onBlur:function(){return e.blur()},onFocus:function(){return e.focus()},placeholder:"enter a style property",type:"text",value:t.domKey,onChange:function(t){return e.updateKey(t.target.value)}}),o.a.createElement("ul",{className:"key-dropdown"},n.map(function(t){return o.a.createElement("li",{key:t,onMouseDown:function(){return e.updateKey(t)},className:"key-item"},t)}))),o.a.createElement("div",{className:"style-input dom-value"},o.a.createElement("input",{placeholder:"enter a style value",type:"text",value:t.domValue,onChange:function(t){return e.updateValue(t.target.value)}})))}}]),t}(o.a.Component)),E=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"updateStyle",value:function(e){var t=m.a.cloneDeep(this.props.component.styles);t[m.a.findIndex(t,{id:e.id})]=e,this.props.update({styles:t})}},{key:"updateTitle",value:function(e){var t=this.props.swatch,n=m.a.cloneDeep(this.props.component.swatches),a=m.a.findIndex(n,{id:t.id});t.title=e,n[a]=t,this.props.update({swatches:n})}},{key:"addStyle",value:function(){var e={id:y.hashString(),swatch_id:this.props.swatch.id,domKey:"",domValue:""},t=m.a.cloneDeep(this.props.component.styles);t.push(e),this.props.update({styles:t})}},{key:"render",value:function(){var e=this,t=this.props.swatch,n=m.a.filter(this.props.component.styles,{swatch_id:t.id});return o.a.createElement("div",{className:"SwatchEditor"},o.a.createElement("input",{className:"swatch-title",type:"text",value:t.title,onChange:function(t){return e.updateTitle(t.target.value)}}),o.a.createElement("div",{className:"style-list"},n.map(function(t){return o.a.createElement(b,{update:function(t){return e.updateStyle(t)},key:t.id,style:t})}),o.a.createElement("button",{className:"add-style",onClick:function(){return e.addStyle()}},"add style")))}}]),t}(o.a.Component),k=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"update",value:function(e){this.props.update({swatches:e})}},{key:"addSwatch",value:function(){var e=m.a.find(this.props.component.elements,{selected:!0});if(e){var t=m.a.cloneDeep(this.props.component.swatches);t.push({id:y.hashString(),title:"Untitled Swatch",element_id:e.id,context_id:null}),this.update(t)}}},{key:"renderContainer",value:function(e,t){var n=this;return t=t||[],o.a.createElement("div",{className:"SwatchBuilder"},t.map(function(e){return o.a.createElement(E,{update:function(e){return n.props.update(e)},key:e.id,component:n.props.component,swatch:e})}),o.a.createElement("button",{className:"add-swatch ".concat(e?"":"disabled"),onClick:function(){return n.addSwatch()}},"add swatch"))}},{key:"render",value:function(){var e=m.a.find(this.props.component.elements,{selected:!0});if(!e)return this.renderContainer();var t=m.a.filter(this.props.component.swatches,{element_id:e.id});return this.props.filterContext&&(t=m.a.filter(t,{context_id:m.a.find(this.props.component.contexts,{selected:!0})})),this.renderContainer(e,t)}}]),t}(o.a.Component),O=[{title:"Button",elements:[{id:"e1",title:"Btn Wrapper",root:!0,parent:null},{id:"e2",title:"Btn Copy",parent:"e1"}]},{title:"Login Form",elements:[{id:"e1",title:"Login Form",root:!0,parent:null},{id:"e2",title:"Username Label",parent:"e1"},{id:"e3",title:"Username Input",parent:"e1"},{id:"e4",title:"Password Label",parent:"e1"},{id:"e5",title:"Password Input",parent:"e1"},{id:"e6",title:"Login Button",parent:"e1"},{id:"e7",title:"Alert Message",parent:"e1"}]}],w=(n(36),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={needsUpdate:!1},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({needsUpdate:!0})}},{key:"save",value:function(){var e=window.localStorage.getItem("components");e=e?JSON.parse(e):[];var t=m.a.findIndex(e,{id:this.props.component.id});t>=0?e[t]=this.props.component:e.push(this.props.component),window.localStorage.setItem("components",JSON.stringify(e)),this.setState({needsUpdate:!1})}},{key:"render",value:function(){var e=this;return o.a.createElement("button",{className:"Save ".concat(this.state.needsUpdate?"":"disabled"),onClick:function(){return e.save()}},"Save")}}]),t}(o.a.Component)),j=(n(38),function(e){function t(e){var n;Object(s.a)(this,t),n=Object(c.a)(this,Object(u.a)(t).call(this,e));var a=window.localStorage.getItem("components");return a=a?JSON.parse(a):[],n.state={showLoad:!1,components:a},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"toggleLoad",value:function(){this.setState({showLoad:!this.state.showLoad})}},{key:"updateTitle",value:function(e){this.props.update({title:e})}},{key:"loadComponent",value:function(e){this.props.update(e)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"Setup"},o.a.createElement("button",{className:"load\n          ".concat(this.state.showLoad?"open":"","\n          ").concat(this.state.components.length?"":"disabled","\n          "),onClick:function(){return e.toggleLoad()}},"Load",o.a.createElement("i",{className:"fa fa-chevron-down"}),o.a.createElement("ul",{className:"load-options"},this.state.components.map(function(t){return o.a.createElement("li",{onMouseDown:function(){return e.loadComponent(t)},className:"load-option",key:t.id},t.title||"Untitled Component")}))),o.a.createElement("label",{className:"name-label",htmlFor:"c_title"},"Title"),o.a.createElement("input",{className:"name-input",type:"text",id:"c_title",value:this.props.component.title,onChange:function(t){return e.updateTitle(t.target.value)}}))}}]),t}(o.a.Component)),N=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).templates=O,n.state={templatesOpen:!1,component:{id:y.hashString(),title:"",contexts:[],elementContexts:[],swatches:[],styles:[],elements:[]},tab:"setup",tabs:[{id:"setup",title:"Setup",tag:"Build"},{id:"elements",title:"Elements",tag:"Build"},{id:"master",title:"Master",tag:"Design"},{id:"context",title:"Context",tag:"Design"}]},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"updateTitle",value:function(e){this.setState(function(t){var n=m.a.cloneDeep(t.component);return n.title=e,{component:n}})}},{key:"selectTemplate",value:function(e){this.setState(function(t){var n=m.a.cloneDeep(t.component);return n.elements=e.elements,n.styles=[],n.swatches=[],{component:n}})}},{key:"toggleTemplateList",value:function(e){this.setState(function(t){return{templatesOpen:void 0!==e?e:!t.templatesOpen}})}},{key:"render_setup",value:function(){var e=this;return o.a.createElement("div",{className:"setup"},o.a.createElement(j,{update:function(t){return e.updateComponent(t)},component:this.state.component}))}},{key:"render_elements",value:function(){var e=this;return o.a.createElement("div",{className:"build"},o.a.createElement("p",{className:"element-cta"},"Scaffold your component by adding elements, or",o.a.createElement("button",{className:"element-cta-button ".concat(this.state.templatesOpen?"open":""),onClick:function(){return e.toggleTemplateList()}},"choose from a template",o.a.createElement("ul",{className:"template-options"},this.templates.map(function(t){return o.a.createElement("li",{onMouseDown:function(){return e.selectTemplate(t)},key:t.title},t.title)})))),o.a.createElement(h,{component:this.state.component,update:function(t){return e.updateComponent(t)}}))}},{key:"render_master",value:function(){var e=this;return o.a.createElement("div",{className:"master"},o.a.createElement(f,{update:function(t){return e.updateComponent(t)},component:this.state.component}),o.a.createElement(g,{component:this.state.component}),o.a.createElement(k,{update:function(t){return e.updateComponent(t)},filterContext:!1,component:this.state.component}))}},{key:"render_context",value:function(){return o.a.createElement("div",{className:"context"})}},{key:"updateComponent",value:function(e){this.setState(function(t){var n=t.component;return m.a.merge(n,e),m.a.forIn(e,function(e,t){n[t]=e}),{component:n}})}},{key:"selectTab",value:function(e){this.setState({tab:e})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"NavTab"},o.a.createElement("div",{className:"tab-header"},o.a.createElement("ul",{className:"tab-header-list"},this.state.tabs.map(function(t){return o.a.createElement("li",{key:"t_".concat(t.id),onClick:function(){return e.selectTab(t.id)},className:"tab-header-item ".concat(t.id===e.state.tab?"active":"")},o.a.createElement("small",{className:"tab-header-sub-title ".concat(t.tag)},t.tag),"setup"===t.id&&e.state.component.title?e.state.component.title:t.title)})),o.a.createElement(w,{component:this.state.component})),o.a.createElement("div",{className:"tab-body"},this["render_".concat(this.state.tab)]()))}}]),t}(o.a.Component),S=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(N,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[10,2,1]]]);
//# sourceMappingURL=main.ad226eca.chunk.js.map