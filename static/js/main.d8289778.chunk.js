(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports=n(68)},,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(9),r=n.n(i),s=(n(15),n(2)),l=n(3),c=n(5),d=n(4),u=n(6),p=(n(17),n(19),n(21),n(1)),m=n.n(p),h={hashString:function(){var e=8,t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split("");e||(e=Math.floor(Math.random()*t.length));for(var n="",a=0;a<e;a++)n+=t[Math.floor(Math.random()*t.length)];return n}},f=[{id:h.hashString(),title:"Simple Button",instructions:['To begin, enter the name "Simple Button" into the field at the top of your screen.','This is the "Elements" tab. Elements form the structure of your component.','Click "choose from a template" and then select "Button". This will automatically scaffold your component with a template.',"Your button now has 2 elements. It has a container element, with a nested child element for the button text.",'Now navigate to the "Context" tab.',"Contexts are the various conditions that affect your component.","Buttons, for instance, can usually come in several sizes. Lets add those sizes now.",'Use the "add context" button to create three contexts, named "Small", "Medium", and "Large".',"Another set of conditions common to buttons is priority. Lets create a few priorities.",'Add two more Contexts named "Primary" and "Secondary"','Finally, add one more Context named "Disabled".','Now you have a well defined range of Contexts for your component. You can now begin to style your component. Navigate to the "Style" tab to continue.','This is the "Style" tab. This is where you add all styles for your component.','Notice that the element "Btn Wrapper" is selected. The default selected element will always be the root element of your component.',"To the immediate right of the elements menu is the context menu. Notice that no context is selected. This means we are styling the default version of your component.","All styles are grouped into swatches. Swatches are collections of individual styles.",'Click the "add swatch" button on the right side of your screen.',"By default, the swatches name will be the name of the element, and the swatch will have one empty style.",'We are going to give some padding to your button. Type "padding" into the style property field, or select it from the dropdown menu.','Now enter "8px" into the style value field to give your button wrapper 8 pixels of padding.','Add another style, select "backgroundColor", and type "gray" into the style value field.',"You will notice that the button is a small square. That is because no other styles have been added yet.",'Now lets style the child element. Select the element on the left side of your screen, named "Btn Copy".','Click the "add swatch" button.','Choose "textContent" from the style property menu.','"textContent" is not a CSS style, but can be used here to give content to your element. Type "Click here" into the style value field.','Next, add another style for the "Btn Copy" element, select "color" and type "white" into the style value field.',"You now have a component with a set of default styles.",'By selecting a Context other than "None", we can provide override styles for each individual Context.','Click on the context menu dropdown, and choose "Small".','Notice that the swatches have disappeared from the right side of your screen. This is because swatches are defined by the selected context, and no styles have yet been added for the "Small" context.','Make sure the "Btn Copy" element is still selected on the left side of your screen.','Click "add swatch" to add a swatch. Notice that the name is "Btn Copy - Small".','Select "fontSize" for the style property field, and type "10px" into the style value field.',"You can see now that the font size is much smaller, but all other styles have remained the same. This is because you are only overriding the styles from the default Context.",'Now select "Medium" from the Context dropdown menu. Add a swatch, choose "fontSize" for the style property, and set the style to "16px"','Now select "Large" from the Context dropdown menu. Just as before, add one swatch. Give the style a "fontSize" of "20px".','You now have defined the styles for your small, medium, and large button contexts. Lets now add styles for each "priority" context.','Select the "Btn Wrapper" element on the left side of your screen.','Select the "Primary" context from the Context dropdown menu. Add one swatch.','Select "backgroundColor" and type "blue" into the style value field.','Now select the "Secondary" context from the Context dropdown menu. Again, add one swatch.','Select "backgroundColor" again, and type "lightblue" into the style value field.','You are almost done styling your component. Select the final context - "Disabled" - from the context menu.','Make sure the "Btn Wrapper" element is selected.','Add a swatch, then choose "opacity" from the style property menu, and type "0.5" into the style value field.',"You have now finished styling your component. We can now add state.",'Navigate to the "State" tab.',"State is where we bring everything we have created together. A state is formed from an arrangement of contexts.",'Click "add state" on the left side of your screen. Name your new state "Normal".',"To begin adding contexts to your state, click the arrow icon to the right of your states name field.",'Click "add a context" and then choose "Medium" to add the Medium context to your Normal State.','Click "add a context" again and then choose "Primary".',"Now you have one state for your component, called Normal, that is Medium in size and Primary in priority.",'Add another state, and name it "Large Secondary". Add the "Large" and "Secondary" contexts to it.',"You can now add any new state you wish, using various combinations of your contexts. Try adding one or two of your own.",'To see your component in action, select the "Preview" tab.',"Congratulations, you have built your first component. Save your work, and you can load it again to edit it as you wish.","You are now finished with the tutorial. Goodbye."]}],g=[{id:"template_button_".concat(h.hashString()),title:"Button",elements:[{id:"e10",title:"Btn Wrapper"},{id:"e11",title:"Btn Copy",component_id:null,parent:"e10"}],swatches:[{id:"fquLyENZ",title:"Btn Wrapper - Default",element_id:"e10",context_id:null},{id:"DIcPLPNR",title:"Btn Copy - Default",element_id:"e11",context_id:null},{id:"nRBSU3PQ",title:"Btn Copy - Small",element_id:"e11",context_id:"tZAChXaO"},{id:"9fmicFhI",title:"Btn Wrapper - Small",element_id:"e10",context_id:"tZAChXaO"},{id:"Tp6rzVnu",title:"Btn Copy - Medium",element_id:"e11",context_id:"7bqEfuMw"},{id:"5vH8pzvv",title:"Btn Wrapper - Medium",element_id:"e10",context_id:"7bqEfuMw"},{id:"if02Nu7A",title:"Btn Copy - Large",element_id:"e11",context_id:"HC9HxVBE"},{id:"TyJsqoIq",title:"Btn Wrapper - Large",element_id:"e10",context_id:"HC9HxVBE"},{id:"AzXQtw4L",title:"Btn Wrapper - Primary",element_id:"e10",context_id:"vbKOHBWJ"},{id:"3XkymgAn",title:"Btn Wrapper - Secondary",element_id:"e10",context_id:"3m0hlryt"},{id:"2CDKKWaE",title:"Btn Wrapper - Success",element_id:"e10",context_id:"QHTzS95r"},{id:"E0iTtNOU",title:"Btn Wrapper - Danger",element_id:"e10",context_id:"HgAOpgv6"},{id:"UF4LoEW3",title:"Btn Wrapper - Enabled",element_id:"e10",context_id:"9mqdcZ4D"},{id:"eUcxUawb",title:"Btn Wrapper - Disabled",element_id:"e10",context_id:"m7nQBkrc"}],styles:[{id:"O4dP54X5",swatch_id:"fquLyENZ",propInput:"Background Color",domKey:"backgroundColor",domValue:"#888"},{id:"aUMV2OJD",swatch_id:"fquLyENZ",propInput:"Padding",domKey:"padding",domValue:"8px"},{id:"dTgFvLxq",swatch_id:"DIcPLPNR",propInput:"Color",domKey:"color",domValue:"#fff"},{id:"WCSbpON1",swatch_id:"DIcPLPNR",propInput:"Text Content",domKey:"textContent",domValue:"Click here"},{id:"Aqz67GD0",swatch_id:"nRBSU3PQ",propInput:"Font Size",domKey:"fontSize",domValue:"10px"},{id:"VVutEhgq",swatch_id:"9fmicFhI",propInput:"Padding",domKey:"padding",domValue:"6px"},{id:"hHnWpJTN",swatch_id:"fquLyENZ",propInput:"Border Radius",domKey:"borderRadius",domValue:"3px"},{id:"eDQDpEWr",swatch_id:"Tp6rzVnu",propInput:"Font Size",domKey:"fontSize",domValue:"16px"},{id:"NgEPrTrs",swatch_id:"5vH8pzvv",propInput:"Padding",domKey:"padding",domValue:"10px"},{id:"cKfuTEvc",swatch_id:"if02Nu7A",propInput:"Font Size",domKey:"fontSize",domValue:"20px"},{id:"Xf07uGxG",swatch_id:"TyJsqoIq",propInput:"Padding",domKey:"padding",domValue:"14px 20px"},{id:"sgxUPXCF",swatch_id:"AzXQtw4L",propInput:"Background Color",domKey:"backgroundColor",domValue:"#55aaff"},{id:"ey1GneGO",swatch_id:"3XkymgAn",propInput:"Background Color",domKey:"backgroundColor",domValue:"#a0a0a0"},{id:"aePcMUy7",swatch_id:"2CDKKWaE",propInput:"Background Color",domKey:"backgroundColor",domValue:"#55cc55"},{id:"CQH5BuTZ",swatch_id:"E0iTtNOU",propInput:"Background Color",domKey:"backgroundColor",domValue:"#ff4444"},{id:"3iqt9Cxc",swatch_id:"UF4LoEW3",propInput:"Opacity",domKey:"opacity",domValue:"1"},{id:"dlmmvDKf",swatch_id:"eUcxUawb",propInput:"Opacity",domKey:"opacity",domValue:"0.5"},{id:"k4du8fkl",swatch_id:"fquLyENZ",propInput:"Display",domKey:"display",domValue:"block"}],dimensions:[{id:"d_34958345",title:"Size"},{id:"d_92836509",title:"Type"},{id:"d_73928456",title:"Activation"}],contexts:[{id:"tZAChXaO",title:"Small",dimension_id:"d_34958345"},{id:"7bqEfuMw",title:"Medium",dimension_id:"d_34958345"},{id:"HC9HxVBE",title:"Large",dimension_id:"d_34958345"},{id:"vbKOHBWJ",title:"Primary",dimension_id:"d_92836509"},{id:"3m0hlryt",title:"Secondary",dimension_id:"d_92836509"},{id:"QHTzS95r",title:"Success",dimension_id:"d_92836509"},{id:"HgAOpgv6",title:"Danger",dimension_id:"d_92836509"},{id:"9mqdcZ4D",title:"Enabled",dimension_id:"d_73928456"},{id:"m7nQBkrc",title:"Disabled",dimension_id:"d_73928456"}],states:[{id:"JZRHKS8c",title:"Sm Prim",context_id_list:["tZAChXaO","vbKOHBWJ","9mqdcZ4D"]},{id:"xRsJqmR2",title:"Sm Sec",context_id_list:["tZAChXaO","3m0hlryt","9mqdcZ4D"]},{id:"htToBsRL",title:"Med Prim",context_id_list:["7bqEfuMw","vbKOHBWJ","9mqdcZ4D"]},{id:"33I5cO1y",title:"Med Sec",context_id_list:["7bqEfuMw","3m0hlryt","9mqdcZ4D"]},{id:"KRGFuF55",title:"Lg Prim",context_id_list:["HC9HxVBE","vbKOHBWJ","9mqdcZ4D"]},{id:"l5N52DEv",title:"Lg Sec",context_id_list:["HC9HxVBE","3m0hlryt","9mqdcZ4D"]},{id:"7XvkOB46",title:"Sm Prim Dis",context_id_list:["tZAChXaO","vbKOHBWJ","m7nQBkrc"]},{id:"8BGdG142",title:"Sm Sec Dis",context_id_list:["tZAChXaO","3m0hlryt","m7nQBkrc"]},{id:"ldaAJL45",title:"Md Prim Dis",context_id_list:["7bqEfuMw","vbKOHBWJ","m7nQBkrc"]},{id:"vlKyZ3DS",title:"Md Sec Dis",context_id_list:["7bqEfuMw","3m0hlryt","m7nQBkrc"]},{id:"uWrGKgXL",title:"Lg Prim Dis",context_id_list:["HC9HxVBE","vbKOHBWJ","m7nQBkrc"]},{id:"SEW07JnM",title:"Lg Sec Dis",context_id_list:["HC9HxVBE","3m0hlryt","m7nQBkrc"]},{id:"EmnyMywZ",title:"Sm Danger",context_id_list:["tZAChXaO","HgAOpgv6"]},{id:"xinr64ES",title:"Md Danger",context_id_list:["7bqEfuMw","HgAOpgv6"]},{id:"9PzShAvT",title:"Lg Danger",context_id_list:["HC9HxVBE","HgAOpgv6"]}]}],v={components:function(){var e=window.localStorage.getItem("components");return e?JSON.parse(e):[]},removeComponent:function(e){var t=this.components();return t=m.a.filter(t,function(t){return t.id!==e}),window.localStorage.setItem("components",JSON.stringify(t)),t}},y={topics:[],getTopic:function(e){return m.a.find(this.topics,{id:e})||null},on:function(e,t,n){n=n||h.hashString();var a=this.getTopic(e);return a?a.queue.push({refId:n||null,callback:t}):(a={id:e,queue:[{refId:n||null,callback:t}]},this.topics.push(a)),n},off:function(e,t){if(t){var n=this.getTopic(e);n&&(n.queue=m.a.filter(n.queue,function(e){return e.refId!==t}))}},trigger:function(){var e=Array.prototype.slice.call(arguments),t=e.shift(),n=m.a.find(this.topics,{id:t});n&&n.queue&&n.queue.length&&m.a.map(n.queue,function(t){t.callback&&"function"===typeof t.callback&&t.callback.apply(null,e)})}},b=(n(24),function(e){var t=e.infoType||"default";return o.a.createElement("div",{className:"InfoConfirm ".concat(t)},o.a.createElement("p",null,e.message),o.a.createElement("button",{onClick:function(){return e.confirm(!0)},className:"confirm"},e.yes||"Ok"),o.a.createElement("button",{onClick:function(){return e.confirm(!1)},className:"deny"},e.no||"Cancel"))}),w=function(e){function t(e){var n;Object(s.a)(this,t),n=Object(c.a)(this,Object(d.a)(t).call(this,e));var a=window.localStorage.getItem("components");a=a?JSON.parse(a):[],n.listenerId=h.hashString(),y.on("appClick",function(e){n.setState(function(e){var t={};return e.showTutorial&&(t.showTutorial=!1),e.showLoad&&(t.showLoad=!1),e.showTemplate&&(t.showTemplate=!1),t})},n.listenerId);var o=h.hashString();return n.state={template:null,templates:g,tutorials:f,showTutorial:!1,showLoad:!1,showTemplate:!1,components:a,component:{id:h.hashString(),title:"",elements:[{id:h.hashString(),title:"Container"}],dimensions:[{id:o,title:"Dimension 1"}],contexts:[{id:h.hashString(),title:"Context 1",dimension_id:o}],swatches:[],styles:[],states:[],flows:[]}},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){y.off("appClick",this.listenerId)}},{key:"toggleDropdown",value:function(e,t){e.stopPropagation(),this.setState(function(e){var n={};return n[t]=!e[t],n})}},{key:"updateTitle",value:function(e){this.setState(function(t){var n=m.a.cloneDeep(t.component);return n.title=e,{component:n}})}},{key:"selectTemplate",value:function(e){this.setState({template:e})}},{key:"loadComponent",value:function(e){this.props.begin(e)}},{key:"removeComponent",value:function(e,t){var n=this;e.stopPropagation(),y.trigger("modal",function(){return o.a.createElement(b,{message:"Are you sure you want to delete this component?",yes:"Yes",no:"No",confirm:function(e){y.trigger("modal",null),e&&n.setState({components:v.removeComponent(t.id)})}})})}},{key:"loadTutorial",value:function(e){var t=this;y.trigger("modal",function(){return o.a.createElement(b,{message:"Warning! Tutorials do not follow your actions. When finished with an instruction, you must manually click the forward button to proceed.",confirm:function(n){(y.trigger("modal",null),n)&&(t.props.tutorial(e),t.state.component.title="",t.props.begin(t.state.component))}})})}},{key:"create",value:function(){var e=m.a.cloneDeep(this.state.template||this.state.component);e.title=this.state.component.title,this.props.begin(e)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"Setup"},o.a.createElement("p",{className:"intro"},"Welcome. To get started, choose one of the options below."),o.a.createElement("div",{className:"setup-body"},o.a.createElement("div",{className:"setup-section"},o.a.createElement("h3",{className:"section-title"},"New",o.a.createElement("small",null,"create a new component")),o.a.createElement("input",{autoComplete:"off",placeholder:"Enter a name",className:"name-input",type:"text",id:"c_title",value:this.state.component.title,onChange:function(t){return e.updateTitle(t.target.value)}}),o.a.createElement("div",{className:"component-template"},o.a.createElement("label",null,"(optional) select a template"),o.a.createElement("button",{className:"setup-button load\n                ".concat(this.state.showTemplate?"open":"","\n                ").concat(this.state.templates.length?"":"disabled","\n                "),onClick:function(t){return e.toggleDropdown(t,"showTemplate")}},this.state.template?this.state.template.title:"None",o.a.createElement("i",{className:"fa fa-chevron-down"}),o.a.createElement("ul",{className:"load-options"},o.a.createElement("li",{className:"load-option",onMouseDown:function(){return e.selectTemplate(null)}},"None"),this.state.templates.map(function(t){return o.a.createElement("li",{onMouseDown:function(){return e.selectTemplate(t)},className:"load-option",key:t.id},t.title)})))),o.a.createElement("button",{onClick:function(){return e.create()},className:"setup-button create ".concat(this.state.component.title?"":"disabled")},"Create")),o.a.createElement("div",{className:"setup-section"},o.a.createElement("h3",{className:"section-title"},"Load",o.a.createElement("small",null,"open a saved component")),o.a.createElement("button",{className:"setup-button load\n              ".concat(this.state.showLoad?"open":"","\n              ").concat(this.state.components.length?"":"disabled","\n              "),onClick:function(t){return e.toggleDropdown(t,"showLoad")}},"Select a component",o.a.createElement("i",{className:"fa fa-chevron-down"}),o.a.createElement("ul",{className:"load-options"},this.state.components.map(function(t){return o.a.createElement("li",{onMouseDown:function(){return e.loadComponent(t)},className:"load-option",key:t.id},t.title||"Untitled Component",o.a.createElement("i",{onMouseDown:function(n){return e.removeComponent(n,t)},className:"fa fa-times load-option-icon remove"}))})))),o.a.createElement("div",{className:"setup-section"},o.a.createElement("h3",{className:"section-title"},"Tutorial",o.a.createElement("small",null,"take an interactive tour")),o.a.createElement("button",{className:"setup-button load\n              ".concat(this.state.showTutorial?"open":"","\n              ").concat(this.state.tutorials.length?"":"disabled","\n              "),onClick:function(t){return e.toggleDropdown(t,"showTutorial")}},"Select a tutorial",o.a.createElement("i",{className:"fa fa-chevron-down"}),o.a.createElement("ul",{className:"load-options"},this.state.tutorials.map(function(t){return o.a.createElement("li",{onMouseDown:function(){return e.loadTutorial(t)},className:"load-option",key:t.id},t.title)}))))))}}]),t}(o.a.Component),E=(n(26),n(28),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).dragged=m.a.throttle(n.dragOver,100),n.state={filteredComponents:[],dragTarget:null,dropTarget:null},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"update",value:function(e){this.props.update({elements:e})}},{key:"addElement",value:function(e){var t=m.a.cloneDeep(this.props.component.elements),n={id:"el_".concat(h.hashString()),title:"Untitled Element",component_id:null,parent:e};t.length||this.update([n]);var a=m.a.findIndex(t,{id:e});t.splice(a+1,0,n),this.update(t)}},{key:"removeElement",value:function(e){var t=m.a.cloneDeep(this.props.component.elements),n=m.a.filter(t,function(t){return t.id!==e&&t.parent!==e});this.update(n)}},{key:"selectComponent",value:function(e,t){var n=m.a.cloneDeep(this.props.component.elements);this.update(m.a.map(n,function(n){return n.id===e.id&&(n.title=t.title,n.component_id=t.id),n})),this.setState({openId:!1,filteredComponents:[]})}},{key:"editTitle",value:function(e,t){var n=m.a.cloneDeep(this.props.component.elements),a=m.a.findIndex(n,{id:e});n[a].title=t,this.update(n);var o=this.props.components;t&&(o=m.a.filter(this.props.components,function(e){return new RegExp(t,"gi").test(e.title)})),0===a&&(o=[]),this.setState({filteredComponents:o,openId:o.length?e:null})}},{key:"dragStart",value:function(e){this.setState({dragTarget:e})}},{key:"dragEnd",value:function(){var e=this;this.setState(function(t){if(t.dragTarget===t.dropTarget)return null;var n=m.a.cloneDeep(e.props.component.elements),a=n.splice(m.a.findIndex(n,{id:t.dragTarget}),1)[0],o=m.a.findIndex(n,{id:t.dropTarget}),i=m.a.find(n,{id:t.dropTarget});return t.nest?a.parent=t.dropTarget:a.parent=i.parent||t.dropTarget,n.splice(o+1,0,a),e.update(n),{dropTarget:null,nest:!1}})}},{key:"dragOver",value:function(e,t){this.setState({dropTarget:e,nest:!!t})}},{key:"renderElement",value:function(e,t){var n=this;t=t||e[0];var a,i=m.a.findIndex(e,t),r=0===i,s=m.a.filter(e,{parent:t.id});return s.length&&(a=m.a.map(s,function(t){return n.renderElement(e,t)})),o.a.createElement("div",{key:t.id,className:"element-item\n          ".concat(t.component_id?"component":"","\n          ").concat(this.state.openId===t.id?"open":"","\n          ").concat(a?"has-children":"","\n          ").concat(r?"root":"","\n          ").concat(this.state.dropTarget===t.id&&this.state.nest?"dragged":"","\n        ")},o.a.createElement("span",{onDragEnd:function(){return n.dragEnd()},onDragStart:function(){return n.dragStart(t.id)},onDragOver:function(){return n.dragOver(t.id,!0)},draggable:!r,className:"element-item-label"},o.a.createElement("span",{className:"element-input-wrapper"},o.a.createElement("input",{autoFocus:0===i,spellCheck:!1,placeholder:"Enter a name",className:"element-item-input",type:"text",value:t.title,onBlur:function(){return n.setState({openId:null,filteredComponents:[]})},onChange:function(e){return n.editTitle(t.id,e.target.value)}}),o.a.createElement("ul",{className:"element-component-menu"},this.props.components.map(function(e){return o.a.createElement("li",{className:"element-component-item",key:e.id,onMouseDown:function(){return n.selectComponent(t,e)}},e.title)}))),o.a.createElement("span",null,t.component_id?null:o.a.createElement("i",{className:"fa fa-plus element-item-icon",onClick:function(){return n.addElement(t.id)}}),o.a.createElement("i",{className:"fa fa-minus element-item-icon",onClick:function(){return n.removeElement(t.id)}}))),o.a.createElement("span",{className:"element-item-divider ".concat(this.state.dropTarget!==t.id||this.state.nest?"":"dragged"),onDragOver:function(){return n.dragOver(t.id,!1)}}),a)}},{key:"render",value:function(){var e=this,t=this.props.component.elements;return o.a.createElement("div",{className:"Builder"},o.a.createElement("p",{className:"element-cta"},"Scaffold your component by adding elements"),o.a.createElement("div",{className:"elements-list"},t.length?e.renderElement(t):o.a.createElement("button",{className:"add-element",onClick:function(){return e.addElement()}},"Add an Element")))}}]),t}(o.a.Component)),x=(n(30),function(e){function t(e){var n;Object(s.a)(this,t),n=Object(c.a)(this,Object(d.a)(t).call(this,e));var a=m.a.cloneDeep(e.component);return a.elements.length&&!m.a.find(a.elements,{selected:!0})&&(a.elements[0].selected=!0,e.update({elements:a.elements})),n.state={open:!1},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"updateElements",value:function(e){this.props.update({elements:e})}},{key:"selectElement",value:function(e){var t=m.a.cloneDeep(this.props.component.elements),n=!e.selected;m.a.forEach(t,function(t){t.selected=t.id===e.id&&n}),this.updateElements(t)}},{key:"dragOver",value:function(e,t){e.stopPropagation(),this.updateElements(m.a.map(this.props.component.elements,function(e){return e.targeted=e.id===t.id,e}))}},{key:"enterHighlight",value:function(e){var t=m.a.find(this.props.components,{id:e.component_id});t&&(e=m.a.first(t.elements)),this.props.highlight(e.id)}},{key:"renderElement",value:function(e,t){var n=this;t=t||e[0];var a,i=0===m.a.findIndex(e,t),r=m.a.filter(e,{parent:t.id});r.length&&(a=m.a.map(r,function(t){return n.renderElement(e,t)}));var s=!!t.component_id;return o.a.createElement("div",{key:t.id,className:"selector-item\n          ".concat(s?"component-item":"","\n          ").concat(a?"has-children":"","\n          ").concat(i?"root":"","\n          ").concat(t.selected?"selected":"","\n        ")},o.a.createElement("h3",{className:"selector-title ".concat(t.targeted?"targeted":""),onDragOver:function(e){return n.dragOver(e,t)},onClick:function(){return n.selectElement(t)},onMouseEnter:function(){return n.enterHighlight(t)},onMouseLeave:function(){return n.props.highlight(null)}},t.title),a)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"ElementSelector"},e.props.component.elements.length?e.renderElement(e.props.component.elements):null)}}]),t}(o.a.Component)),k=(n(32),n(34),{init:function(){var e=document.createElement("style");return e.id=h.hashString(),this.sheet=document.head.appendChild(e).sheet,e.id},destroy:function(e){var t=document.querySelector("#".concat(e));t&&t.parentNode.removeChild(t)},clear:function(){var e=this;m.a.map(this.sheet.cssRules,function(t,n){e.sheet.cssRules[n]&&e.sheet.deleteRule(n)})},render:function(e){var t=this,n=[];e.swatches.map(function(a){n.push(t.loadSwatch(a,e.styles))}),n.map(function(e){t.css(e.selector,e.styleStr)})},loadSwatch:function(e,t){var n=this,a=m.a.filter(t,{swatch_id:e.id}),o=".swatch-".concat(e.id),i="";return m.a.map(a,function(e){e.hidden||(i+="".concat(n.loadStyle(e)," "))}),{selector:o,styleStr:i}},loadStyle:function(e){return"".concat(e.domKey.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),": ").concat(e.domValue,";")},css:function(e,t){var n="".concat(e," { ").concat(t," }"),a=this.sheet.cssRules.length;this.sheet.insertRule(n,a)}}),C=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).renderId=k.init(e.component),n.state={},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){k.destroy()}},{key:"textContent",value:function(e,t,n){var a=null;return m.a.filter(e.swatches,{element_id:t,context_id:null}).map(function(t){var n=m.a.find(e.styles,{swatch_id:t.id,domKey:"textContent"});return n&&(a=n.domValue),null}),n.map(function(n){return m.a.filter(e.swatches,{element_id:t,context_id:n.id}).map(function(t){var n=m.a.find(e.styles,{swatch_id:t.id,domKey:"textContent"});return n&&(a=n.domValue),null})}),a}},{key:"classNames",value:function(e,t,n){var a="";return m.a.filter(e.swatches,{element_id:t,context_id:null}).map(function(e){return a+=" swatch-".concat(e.id),null}),n.map(function(n){return m.a.filter(e.swatches,{element_id:t,context_id:n.id}).map(function(e){return a+=" swatch-".concat(e.id),null})}),a}},{key:"renderElement",value:function(e,t,n){var a=this;t=t||e.elements[0];var i,r=m.a.findIndex(e.elements,{id:t.id}),s=m.a.filter(e.elements,{parent:t.id});if(s.length&&(i=m.a.map(s,function(t){return a.renderElement(e,t,n)})),t.component_id){var l=m.a.find(this.props.components,{id:t.component_id});return this.renderComponent(l,null,null)}return o.a.createElement("div",{id:"el-".concat(t.id),title:t.title,key:t.id,className:"Element\n          ".concat(0===r?"Component":"","\n          ").concat(this.classNames(e,t.id,n))},this.textContent(e,t.id,n),i)}},{key:"renderComponent",value:function(e,t){return this.renderElement(e,null,t)}},{key:"render",value:function(){if(k.clear(),!this.props.component||!this.props.component.elements.length)return null;k.render(this.props.component);var e=m.a.filter(this.props.component.contexts,{selected:!0});return o.a.createElement("div",{className:"Mock"},this.renderComponent(this.props.component,e))}}]),t}(o.a.Component),N=(n(36),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"selectDir",value:function(e,t){e.stopPropagation(),this.props.select(t)}},{key:"render",value:function(){var e=this,t={top:"".concat(this.props.y,"%"),left:"".concat(this.props.x,"%")};return o.a.createElement("div",{className:"OrientationGraphic",onClick:function(t){return e.props.close(t)}},o.a.createElement("div",{className:"graphic-wrapper",style:t},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-1 -2 179 179"},o.a.createElement("path",{onClick:function(t){return e.selectDir(t,"north")},className:"cls-1",d:"M98.53,64.49a26.8,26.8,0,0,0-16.84-.07L58.54,7.82a87.68,87.68,0,0,1,63.64.28Z",transform:"translate(-1.95 -1.98)"}),o.a.createElement("path",{onClick:function(t){return e.selectDir(t,"northEast")},className:"cls-2",d:"M114.07,78a26.66,26.66,0,0,0-11.85-12L125.87,9.64a87.34,87.34,0,0,1,44.8,45.2Z",transform:"translate(-1.95 -1.98)"}),o.a.createElement("path",{onClick:function(t){return e.selectDir(t,"east")},className:"cls-3",d:"M115.51,98.53a26.66,26.66,0,0,0,.07-16.84l56.6-23.16a87.34,87.34,0,0,1-.28,63.64Z",transform:"translate(-1.95 -1.98)"}),o.a.createElement("path",{onClick:function(t){return e.selectDir(t,"southEast")},className:"cls-4",d:"M102,114.07a26.66,26.66,0,0,0,12-11.85l56.39,23.65a87.35,87.35,0,0,1-45.2,44.8Z",transform:"translate(-1.95 -1.98)"}),o.a.createElement("path",{onClick:function(t){return e.selectDir(t,"south")},className:"cls-5",d:"M90,178a87.54,87.54,0,0,1-32.21-6.12l23.65-56.39a26.8,26.8,0,0,0,16.84.07l23.15,56.6A87.39,87.39,0,0,1,90,178Z",transform:"translate(-1.95 -1.98)"}),o.a.createElement("path",{onClick:function(t){return e.selectDir(t,"southWest")},className:"cls-6",d:"M54.13,170.36a87.35,87.35,0,0,1-44.8-45.2L65.93,102a26.66,26.66,0,0,0,11.85,12Z",transform:"translate(-1.95 -1.98)"}),o.a.createElement("path",{onClick:function(t){return e.selectDir(t,"west")},className:"cls-7",d:"M7.82,121.46a87.35,87.35,0,0,1,.28-63.64L64.49,81.47a26.66,26.66,0,0,0-.07,16.84Z",transform:"translate(-1.95 -1.98)"}),o.a.createElement("path",{onClick:function(t){return e.selectDir(t,"northWest")},className:"cls-8",d:"M9.64,54.13a87.36,87.36,0,0,1,45.2-44.8L78,65.93A26.67,26.67,0,0,0,66,77.78Z",transform:"translate(-1.95 -1.98)"}),o.a.createElement("path",{onClick:function(t){return e.selectDir(t,"center")},className:"cls-9",d:"M90,112.91a22.92,22.92,0,1,1,8.66-1.71A22.8,22.8,0,0,1,90,112.91Z",transform:"translate(-1.95 -1.98)"}))))}}]),t}(o.a.Component)),S=(n(38),function(e){return o.a.createElement("div",{className:"OrientationIcon",onClick:function(t){return e.clicked(t)}},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 176.1 176.05"},o.a.createElement("path",{className:"cls-1",d:"M98.53,64.49a26.8,26.8,0,0,0-16.84-.07L58.54,7.82a87.68,87.68,0,0,1,63.64.28Z",transform:"translate(-1.95 -1.98)"}),o.a.createElement("path",{className:"cls-2",d:"M114.07,78a26.66,26.66,0,0,0-11.85-12L125.87,9.64a87.34,87.34,0,0,1,44.8,45.2Z",transform:"translate(-1.95 -1.98)"}),o.a.createElement("path",{className:"cls-3",d:"M115.51,98.53a26.66,26.66,0,0,0,.07-16.84l56.6-23.16a87.34,87.34,0,0,1-.28,63.64Z",transform:"translate(-1.95 -1.98)"}),o.a.createElement("path",{className:"cls-4",d:"M102,114.07a26.66,26.66,0,0,0,12-11.85l56.39,23.65a87.35,87.35,0,0,1-45.2,44.8Z",transform:"translate(-1.95 -1.98)"}),o.a.createElement("path",{className:"cls-5",d:"M90,178a87.54,87.54,0,0,1-32.21-6.12l23.65-56.39a26.8,26.8,0,0,0,16.84.07l23.15,56.6A87.39,87.39,0,0,1,90,178Z",transform:"translate(-1.95 -1.98)"}),o.a.createElement("path",{className:"cls-6",d:"M54.13,170.36a87.35,87.35,0,0,1-44.8-45.2L65.93,102a26.66,26.66,0,0,0,11.85,12Z",transform:"translate(-1.95 -1.98)"}),o.a.createElement("path",{className:"cls-7",d:"M7.82,121.46a87.35,87.35,0,0,1,.28-63.64L64.49,81.47a26.66,26.66,0,0,0-.07,16.84Z",transform:"translate(-1.95 -1.98)"}),o.a.createElement("path",{className:"cls-8",d:"M9.64,54.13a87.36,87.36,0,0,1,45.2-44.8L78,65.93A26.67,26.67,0,0,0,66,77.78Z",transform:"translate(-1.95 -1.98)"}),o.a.createElement("path",{className:"cls-9",d:"M90,112.91a22.92,22.92,0,1,1,8.66-1.71A22.8,22.8,0,0,1,90,112.91Z",transform:"translate(-1.95 -1.98)"})))}),O=(n(40),function(e){var t=e.orientation||"center",n=parseFloat(e.x),a=parseFloat(e.y),i={},r={};switch(e.orientation){case"north":i.bottom="".concat(100-a,"%"),r.left="".concat(n,"%");break;case"northEast":i.bottom="".concat(100-a,"%"),i.left="".concat(n,"%");break;case"east":r.top="".concat(a,"%"),i.left="".concat(n,"%");break;case"southEast":i.top="".concat(a,"%"),i.left="".concat(n,"%");break;case"south":i.top="".concat(a,"%"),r.left="".concat(n,"%");break;case"southWest":i.top="".concat(a,"%"),i.right="".concat(100-n,"%");break;case"west":r.top="".concat(a,"%"),i.right="".concat(100-n,"%");break;case"northWest":i.bottom="".concat(100-a,"%"),i.right="".concat(100-n,"%");break;default:r.top="".concat(a,"%"),r.left="".concat(n,"%")}return o.a.createElement("div",{className:"Anchor ".concat(t),style:i},o.a.createElement("div",{className:"anchor-point",style:r},e.children))}),I=(n(42),function(e){var t={};t["x"===e.axis?"left":"top"]=e.pct+"%";var n=!1;return o.a.createElement("div",{className:"Guideline ".concat(e.axis,"-axis ").concat(e.showLine?"show-line":""),style:t},o.a.createElement("div",{className:"line"}),o.a.createElement("button",{className:"handle ".concat(e.showHandle?"show":""),onMouseDown:function(){n=!0},onMouseMove:function(t){return a={x:t.movementX,y:t.movementY},void(n&&(Math.abs(a.x)||Math.abs(a.y))&&(n=!1,e.beginDrag()));var a},onMouseUp:function(){return n=!1},onDoubleClick:function(){return e.onReset()}},o.a.createElement("i",null)))}),_=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).canvasRef=o.a.createRef(),n.dragEventId=y.on("appDrag",function(e){n.dragCanvas(e.rect)}),n.endDragEventId=y.on("appDragEnd",function(e){n.setState({isDragging:!1,draggingAxis:null})}),n.state={showHandle:!1,isDragging:!1,draggingAxis:null,xGuideline:50,yGuideline:50,dir:null,showOverlay:!1,highlightRef:null},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){y.off("appDrag",this.dragEventId)}},{key:"beginDrag",value:function(e){this.setState({draggingAxis:e,isDragging:!0}),y.trigger("beginDrag")}},{key:"dragCanvas",value:function(e){if(this.canvasRef.current){var t=this.canvasRef.current.getBoundingClientRect();if("x"===this.state.draggingAxis){var n=0,a=e.x-t.x;return a>=0&&(n=a/t.width*100),this.setState({xGuideline:Math.min(n,100)})}if("y"===this.state.draggingAxis){var o=0,i=e.y-t.y;return i>=0&&(o=i/t.height*100),this.setState({yGuideline:Math.min(o,100)})}}}},{key:"toggleOverlay",value:function(e,t){e.stopPropagation();var n=void 0===t?!this.state.showOverlay:!!t;this.setState({showOverlay:n})}},{key:"selectDir",value:function(e){this.setState({dir:e})}},{key:"componentDidUpdate",value:function(){this.props.highlightId&&this.state.highlightRef||(this.props.highlightId||this.state.highlightRef)&&this.setState({highlightRef:document.querySelector("#el-".concat(this.props.highlightId))||null})}},{key:"renderHighlight",value:function(e){if(!e)return null;var t=e.getBoundingClientRect(),n={borderTopWidth:e.style.borderTopWidth,borderRightWidth:e.style.borderRightWidth,borderBottomWidth:e.style.borderBottomWidth,borderLeftWidth:e.style.borderLeftWidth,width:"".concat(t.width,"px"),height:"".concat(t.height,"px"),top:"".concat(t.top,"px"),left:"".concat(t.left,"px")},a={top:"-".concat(e.style.marginTop||"0px"),right:"-".concat(e.style.marginRight||"0px"),bottom:"-".concat(e.style.marginBottom||"0px"),left:"-".concat(e.style.marginLeft||"0px")},i={paddingTop:e.style.paddingTop,paddingRight:e.style.paddingRight,paddingBottom:e.style.paddingBottom,paddingLeft:e.style.paddingLeft};return o.a.createElement("div",{className:"highlighter",style:n},o.a.createElement("div",{className:"highlight-margin-box",style:a}),o.a.createElement("div",{className:"highlight-padding-box"}),o.a.createElement("div",{className:"highlight-content-box",style:i}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{onMouseEnter:function(){return e.setState({showHandle:!0})},onMouseLeave:function(){return e.setState({showHandle:!1})},ref:this.canvasRef,className:"EditingCanvas ".concat(this.state.showOverlay?"show-overlay":"")},o.a.createElement(O,{orientation:this.state.dir,x:this.state.xGuideline,y:this.state.yGuideline},o.a.createElement(C,{components:this.props.components,component:this.props.component})),this.renderHighlight(this.state.highlightRef),o.a.createElement(I,{showHandle:this.state.showHandle&&!this.state.showOverlay,showLine:"x"===this.state.draggingAxis||this.state.showOverlay,pct:this.state.xGuideline,axis:"x",beginDrag:function(){return e.beginDrag("x")},onReset:function(){return e.setState({xGuideline:50})}}),o.a.createElement(I,{showHandle:this.state.showHandle&&!this.state.showOverlay,showLine:"y"===this.state.draggingAxis||this.state.showOverlay,pct:this.state.yGuideline,axis:"y",beginDrag:function(){return e.beginDrag("y")},onReset:function(){return e.setState({yGuideline:50})}}),o.a.createElement(S,{clicked:function(t){return e.toggleOverlay(t)}}),o.a.createElement(N,{x:this.state.xGuideline,y:this.state.yGuideline,close:function(t){return e.toggleOverlay(t,!1)},select:function(t){return e.selectDir(t)}}))}}]),t}(o.a.Component),D=(n(44),n(46),n(48),[{title:"Width",id:"width",cssId:"width"},{title:"Height",id:"height",cssId:"height"},{title:"Background Color",id:"backgroundColor",cssId:"background-color"},{title:"Color",id:"color",cssId:"color"},{title:"Text Content",id:"textContent",cssId:null},{title:"Border Top",id:"borderTop",cssId:"border-top"},{title:"Border Right",id:"borderRight",cssId:"border-right"},{title:"Border Bottom",id:"borderBottom",cssId:"border-bottom"},{title:"Border Left",id:"borderLeft",cssId:"border-left"},{title:"Margin",id:"margin",cssId:"margin"},{title:"Margin Top",id:"marginTop",cssId:"margin-top"},{title:"Margin Right",id:"marginRight",cssId:"margin-right"},{title:"Margin Bottom",id:"marginBottom",cssId:"margin-bottom"},{title:"Margin Left",id:"marginLeft",cssId:"margin-left"},{title:"Border Radius",id:"borderRadius",cssId:"border-radius"},{title:"Border Top Right Radius",id:"borderTopRightRadius",cssId:"border-top-right-radius"},{title:"Border Top Left Radius",id:"borderTopLeftRadius",cssId:"border-top-left-radius"},{title:"Border Bottom Right Radius",id:"borderBottomRightRadius",cssId:"border-bottom-right-radius"},{title:"Border Bottom Left Radius",id:"borderBottomLeftRadius",cssId:"border-bottom-left-radius"},{title:"Display",id:"display",cssId:"display"},{title:"Opacity",id:"opacity",cssId:"opacity"},{title:"Visibility",id:"visibility",cssId:"visibility"},{title:"Flex Direction",id:"flexDirection",cssId:"flex-direction"},{title:"Flex Wrap",id:"flexWrap",cssId:"flex-wrap"},{title:"Flex",id:"flex",cssId:"flex"},{title:"Box Shadow",id:"boxShadow",cssId:"box-shadow"},{title:"Text Shadow",id:"textShadow",cssId:"text-shadow"},{title:"Background Image",id:"backgroundImage",cssId:"background-image"},{title:"Background",id:"background",cssId:"background"},{title:"Font Size",id:"fontSize",cssId:"font-size"},{title:"Font Family",id:"fontFamily",cssId:"font-family"},{title:"Line Height",id:"lineHeight",cssId:"line-height"},{title:"Font Style",id:"fontStyle",cssId:"font-style"},{title:"Font Weight",id:"fontWeight",cssId:"font-weight"},{title:"Text Decoration",id:"textDecoration",cssId:"text-decoration"},{title:"Outline",id:"outline",cssId:"outline"},{title:"Text Align",id:"textAlign",cssId:"text-align"},{title:"Overflow X",id:"overflowX",cssId:"overflow-x"},{title:"Overflow Y",id:"overflowY",cssId:"overflow-y"},{title:"Max Height",id:"maxHeight",cssId:"max-height"},{title:"Max Width",id:"maxWidth",cssId:"max-width"},{title:"Padding",id:"padding",cssId:"padding"},{title:"Padding Top",id:"paddingTop",cssId:"padding-top"},{title:"Padding Right",id:"paddingRight",cssId:"padding-right"},{title:"Padding Bottom",id:"paddingBottom",cssId:"padding-bottom"},{title:"Padding Left",id:"paddingLeft",cssId:"padding-left"},{title:"Border",id:"border",cssId:"border"},{title:"Border Width",id:"borderWidth",cssId:"border-width"},{title:"Border Style",id:"borderStyle",cssId:"border-style"},{title:"Border Color",id:"borderColor",cssId:"border-color"},{title:"Border Top Width",id:"borderTopWidth",cssId:"border-top-width"},{title:"Border Top Style",id:"borderTopStyle",cssId:"border-top-style"},{title:"Border Top Color",id:"borderTopColor",cssId:"border-top-color"},{title:"Border Right Width",id:"borderRightWidth",cssId:"border-right-width"},{title:"Border Right Style",id:"borderRightStyle",cssId:"border-right-style"},{title:"Border Right Color",id:"borderRightColor",cssId:"border-right-color"},{title:"Border Bottom Width",id:"borderBottomWidth",cssId:"border-bottom-width"},{title:"Border Bottom Style",id:"borderBottomStyle",cssId:"border-bottom-style"},{title:"Border Bottom Color",id:"borderBottomColor",cssId:"border-bottom-color"},{title:"Border Left Width",id:"borderLeftWidth",cssId:"border-left-width"},{title:"Border Left Style",id:"borderLeftStyle",cssId:"border-left-style"},{title:"Border Left Color",id:"borderLeftColor",cssId:"border-left-color"}]),B=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).availableProperties=D,n.state={open:!1,focused:!1,delete:!1,filteredProperties:n.availableProperties},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"toggleStyle",value:function(){var e=m.a.cloneDeep(this.props.style);e.hidden=!e.hidden,this.props.update(e)}},{key:"componentDidMount",value:function(){this._keyRef&&this._keyRef.focus()}},{key:"findProperty",value:function(e){var t;return t=(t=(t=t||m.a.find(this.availableProperties,{id:e}))||m.a.find(this.availableProperties,{title:e}))||m.a.find(this.availableProperties,{cssId:e})}},{key:"updateKey",value:function(e,t){var n=this,a=m.a.cloneDeep(this.props.style),o=!1;t?(o=!0,a.domKey=t.cssId,a.propInput=t.title):(t=this.findProperty(e),a.domKey=t?t.cssId:e,a.propInput=e),this.props.update(a),this.setState(function(t){var a=new RegExp(e,"gi");return{filteredProperties:m.a.filter(n.availableProperties,function(e){return a.test(e.id)||a.test(e.cssId)||a.test(e.title)})}}),o&&this._valueRef&&window.setTimeout(function(){n._valueRef.focus()},0)}},{key:"updateValue",value:function(e){var t=m.a.cloneDeep(this.props.style);t.domValue=e,this.props.update(t)}},{key:"focus",value:function(){this.setState({focused:!0})}},{key:"blur",value:function(){this.setState({delete:!1,focused:!1})}},{key:"propKeyDown",value:function(e){27===e.keyCode&&this.setState({focused:!1});var t=m.a.cloneDeep(this.props.style);8===e.keyCode&&this.state.delete&&this.props.remove(t.id)}},{key:"propKeyUp",value:function(e){var t={},n=m.a.cloneDeep(this.props.style);t.delete=8===e.keyCode&&!n.domKey,t.focused=27!==e.keyCode&&8!==e.keyCode,this.setState(t)}},{key:"render",value:function(){var e=this,t=this.props.style,n=m.a.sortBy(this.state.filteredProperties,function(e){return e.id});return o.a.createElement("div",{className:"StyleEditor\n        ".concat(this.state.delete?"delete":"","\n        ").concat(this.state.open?"open":"","\n        ").concat(t.hidden?"hidden":"","\n      ")},o.a.createElement("div",{className:"style-body"},o.a.createElement("div",{className:"style-input dom-key"},o.a.createElement("input",{ref:function(t){return e._keyRef=t},className:this.state.focused?"focused":"",onKeyDown:function(t){return e.propKeyDown(t)},onKeyUp:function(t){return e.propKeyUp(t)},onBlur:function(){return e.blur()},onClick:function(){return e.focus()},placeholder:"enter a style property",type:"text",value:t.propInput,onChange:function(t){return e.updateKey(t.target.value)}}),o.a.createElement("ul",{className:"key-dropdown"},n.map(function(t){return o.a.createElement("li",{key:t.id,onMouseDown:function(){return e.updateKey(t.cssId,t)},className:"key-item"},t.title)}))),o.a.createElement("div",{className:"style-input dom-value"},o.a.createElement("input",{ref:function(t){return e._valueRef=t},placeholder:"enter a style value",type:"text",value:t.domValue,onChange:function(t){return e.updateValue(t.target.value)}})),o.a.createElement("div",{className:"style-icon",onClick:function(){return e.setState({open:!e.state.open})}},o.a.createElement("i",{className:"fa fa-chevron-".concat(this.state.open?"up":"down")}))))}}]),t}(o.a.Component),T=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={open:!0},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"updateStyle",value:function(e){var t=m.a.cloneDeep(this.props.component.styles);t[m.a.findIndex(t,{id:e.id})]=e,this.props.update({styles:t})}},{key:"updateTitle",value:function(e){var t=this.props.swatch,n=m.a.cloneDeep(this.props.component.swatches),a=m.a.findIndex(n,{id:t.id});t.title=e,n[a]=t,this.props.update({swatches:n})}},{key:"addStyle",value:function(){var e={id:h.hashString(),propInput:"",swatch_id:this.props.swatch.id,domKey:"",domValue:""},t=m.a.cloneDeep(this.props.component.styles);t.push(e),this.props.update({styles:t})}},{key:"removeStyle",value:function(e){var t=m.a.filter(this.props.component.styles,function(t){return t.id!==e});this.props.update({styles:t})}},{key:"dragStart",value:function(e){var t=m.a.cloneDeep(this.props.component.swatches);m.a.find(t,{id:e.id}).dragged=!0,this.props.update({swatches:t})}},{key:"dragEnd",value:function(e){var t=m.a.find(this.props.component.elements,{targeted:!0}),n=m.a.map(this.props.component.swatches,function(e){return e.dragged&&(e.element_id=t?t.id:e.element_id),e.dragged=!1,e}),a=m.a.map(this.props.component.elements,function(e){return e.targeted=!1,e});this.props.update({swatches:n,elements:a})}},{key:"render",value:function(){var e=this,t=this.props.swatch,n=m.a.filter(this.props.component.styles,{swatch_id:t.id});return o.a.createElement("div",{className:"SwatchEditor ".concat(this.state.open?"open":""),draggable:!0,onDragStart:function(){return e.dragStart(t)},onDragEnd:function(){return e.dragEnd(t)}},o.a.createElement("div",{className:"swatch-content-wrapper"},o.a.createElement("div",{className:"swatch-header"},o.a.createElement("input",{className:"swatch-title",type:"text",value:t.title,onChange:function(t){return e.updateTitle(t.target.value)}}),o.a.createElement("i",{className:"fa fa-".concat(this.state.open?"minus":"plus"," swatch-header-icon toggle"),onClick:function(){return e.setState({open:!e.state.open})}}),o.a.createElement("i",{className:"fa fa-times swatch-header-icon remove",onClick:function(){return e.props.remove(t.id)}})),o.a.createElement("div",{className:"style-list"},n.map(function(t,n){return o.a.createElement(B,{index:n,remove:function(t){return e.removeStyle(t)},update:function(t){return e.updateStyle(t)},key:t.id,style:t})}),o.a.createElement("button",{className:"add-style",onClick:function(){return e.addStyle()}},"add style"))))}}]),t}(o.a.Component),j=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"update",value:function(e){this.props.update({swatches:e})}},{key:"addSwatch",value:function(){var e=m.a.find(this.props.component.elements,{selected:!0}),t=m.a.find(this.props.component.contexts,{selected:!0}),n=t?t.id:null;if(e){var a=m.a.filter(this.props.component.swatches,function(t){return t.element_id===e.id&&t.context_id===n}).length,o=e.title;a&&(o="Untitled Swatch"),o+=" - ".concat(t?t.title:"Default");var i=h.hashString(),r=this.props.component.swatches.concat([{id:i,title:o,element_id:e.id,context_id:t?t.id:null}]),s=this.props.component.styles.concat([{id:h.hashString(),swatch_id:i,propInput:"",domKey:"",domValue:""}]);this.props.update({swatches:r,styles:s})}}},{key:"removeSwatch",value:function(e){var t=m.a.filter(this.props.component.styles,function(t){return t.swatch_id!==e}),n=m.a.filter(this.props.component.swatches,function(t){return t.id!==e});this.props.update({swatches:n,styles:t})}},{key:"renderContainer",value:function(e,t){var n=this;return t=t||[],o.a.createElement("div",{className:"SwatchBuilder"},t.map(function(e){return o.a.createElement(T,{remove:function(e){return n.removeSwatch(e)},update:function(e){return n.props.update(e)},key:e.id,component:n.props.component,swatch:e})}),o.a.createElement("button",{className:"add-swatch ".concat(e?"":"disabled"),onClick:function(){return n.addSwatch()}},"add swatch"))}},{key:"render",value:function(){var e=m.a.find(this.props.component.contexts,{selected:!0})||{},t=m.a.find(this.props.component.elements,{selected:!0});if(!t)return this.renderContainer();var n=m.a.filter(this.props.component.swatches,{element_id:t.id,context_id:e.id||null});return this.renderContainer(t,n)}}]),t}(o.a.Component),M=(n(50),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).triggerAfter=e.triggerAfter||20,n.state={needsUpdate:!1,updateCounter:0,commanding:!1},window.onkeydown=function(e){83===e.keyCode&&n.state.commanding&&(e.preventDefault(),n.save(),n.setState({commanding:!1})),91===e.keyCode&&n.setState({commanding:!0})},window.onkeyup=function(e){91===e.keyCode&&n.setState({commanding:!1})},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){if(this.state.updateCounter>=this.triggerAfter)return this.save();this.setState({needsUpdate:!0,updateCounter:this.state.updateCounter+1}),this.props.saved(!1)}},{key:"save",value:function(){var e=window.localStorage.getItem("components");e=e?JSON.parse(e):[];var t=m.a.findIndex(e,{id:this.props.component.id});t>=0?e[t]=this.props.component:e.push(this.props.component),window.localStorage.setItem("components",JSON.stringify(e)),this.setState({needsUpdate:!1,updateCounter:0}),this.props.saved(!0)}},{key:"render",value:function(){var e=this;return o.a.createElement("button",{className:"Save ".concat(this.state.needsUpdate?"":"disabled"),onClick:function(){return e.save()}},"Save")}}]),t}(o.a.Component)),R=(n(52),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={dragTarget:null,dropTarget:null},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"addDimension",value:function(){var e=this.props.component.dimensions;e.push({id:h.hashString(),title:"Dimension ".concat(e.length+1)}),this.props.update({dimensions:e})}},{key:"removeDimension",value:function(e){var t=[],n=m.a.filter(this.props.component.dimensions,function(t){return t.id!==e}),a=m.a.filter(this.props.component.contexts,function(n){return n.dimension_id===e&&t.push(n.id),n.dimension_id!==e}),o=m.a.filter(this.props.component.swatches,function(e){return-1===t.indexOf(e.context_id)});this.props.update({dimensions:n,contexts:a,swatches:o})}},{key:"addContext",value:function(e){var t=this.props.component.contexts,n=m.a.find(this.props.component.dimensions,{id:e}).title,a=m.a.filter(t,{dimension_id:e}).length;t.push({id:h.hashString(),title:"".concat(n," ").concat(a+1),dimension_id:e}),this.props.update({contexts:t})}},{key:"removeContext",value:function(e){var t=m.a.filter(this.props.component.contexts,function(t){return t.id!==e}),n=m.a.filter(this.props.component.swatches,function(t){return t.context_id!==e});this.props.update({contexts:t,swatches:n})}},{key:"updateContextTitle",value:function(e,t){var n=m.a.cloneDeep(this.props.component.contexts);n[m.a.findIndex(n,{id:e})].title=t,this.props.update({contexts:n})}},{key:"updateDimensionTitle",value:function(e,t){var n=m.a.cloneDeep(this.props.component.dimensions);n[m.a.findIndex(n,{id:e})].title=t,this.props.update({dimensions:n})}},{key:"dragStart",value:function(e){this.setState({dragTarget:e})}},{key:"dragEnd",value:function(){var e=this;this.setState(function(t){if(t.dragTarget===t.dropTarget)return null;var n=m.a.cloneDeep(e.props.component.contexts),a=n.splice(m.a.findIndex(n,{id:t.dragTarget}),1)[0],o=m.a.findIndex(n,{id:t.dropTarget});return n.splice(o+1,0,a),e.props.update({contexts:n}),{dropTarget:null}})}},{key:"dragOver",value:function(e){this.setState({dropTarget:e})}},{key:"renderContext",value:function(e,t,n){var a=this,i=0===t&&0===n;return o.a.createElement("div",{className:"ctx",onDragEnd:function(){return a.dragEnd()},onDragStart:function(){return a.dragStart(e.id)},onDragOver:function(){return a.dragOver(e.id)},draggable:!0},o.a.createElement("input",{autoFocus:i,className:"ctx-input",type:"text",value:e.title,onChange:function(t){return a.updateContextTitle(e.id,t.target.value)}}),o.a.createElement("i",{className:"fa fa-times ctx-remove",onClick:function(){return a.removeContext(e.id)}}))}},{key:"render",value:function(){var e=this,t=this.props.component;return t?o.a.createElement("div",{className:"ContextBuilder"},o.a.createElement("p",{className:"context-cta"},"Give options to your component by adding contexts"),o.a.createElement("ul",{className:"dimension-menu"},t.dimensions.map(function(n,a){return o.a.createElement("li",{key:n.id,className:"dimension-menu-item"},function(){var i=m.a.filter(t.contexts,{dimension_id:n.id});return o.a.createElement("div",{className:"ctx-wrapper"},o.a.createElement("h3",{className:"ctx-wrapper-title"},o.a.createElement("input",{type:"text",className:"ctx-wrapper-input",onChange:function(t){return e.updateDimensionTitle(n.id,t.target.value)},value:n.title}),o.a.createElement("i",{className:"fa fa-times remove-dim",onClick:function(){return e.removeDimension(n.id)}})),o.a.createElement("ul",{className:"context-menu"},i.map(function(t,n){return o.a.createElement("li",{className:"context-menu-item",key:t.id},e.renderContext(t,a,n),o.a.createElement("div",{className:"divider ".concat(e.state.dropTarget===t.id?"dragged":""),onDragOver:function(){return e.dragOver(t.id)}}))})),o.a.createElement("button",{className:"add-context",onClick:function(){return e.addContext(n.id)}},"add a context"))}())}),o.a.createElement("li",{className:"dimension-menu-item"},o.a.createElement("button",{className:"add-dimension",onClick:function(){return e.addDimension()}},"Add dimension",o.a.createElement("i",{className:"fa fa-plus"}))))):null}}]),t}(o.a.Component)),L=(n(54),n(56),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"toggle",value:function(e){e.stopPropagation(),this.props.toggle()}},{key:"select",value:function(e,t){e.stopPropagation(),this.props.select(t)}},{key:"render",value:function(){var e=this,t=this.props.options,n=m.a.find(t,{selected:!0})||{id:0,title:"None"};return o.a.createElement("div",{className:"Selector ".concat(this.props.open?"open":"")},o.a.createElement("h4",{className:"selector-title",onClick:function(t){return e.toggle(t)}},n.title,o.a.createElement("i",{className:"fa fa-chevron-".concat(this.props.open?"up":"down")})),o.a.createElement("ul",{className:"selector-menu"},o.a.createElement("li",{className:"selector-menu-item",onClick:function(t){return e.select(t,null)}},this.props.nullValue),t.map(function(t){return o.a.createElement("li",{key:t.id,className:"selector-menu-item ".concat(t.id===n.id?"selected":""),onClick:function(n){return e.select(n,t.id)}},t.title)})))}}]),t}(o.a.Component)),W=function(e){function t(e){var n;Object(s.a)(this,t),n=Object(c.a)(this,Object(d.a)(t).call(this,e));var a=m.a.find(e.component.contexts,{selected:!0});return n.listenerId=h.hashString(),y.on("appClick",function(){n.setState({open:!1})},n.listenerId),n.state={open:!1,selectedContext:a?a.id:null},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){y.off("appClick",this.listenerId)}},{key:"selectContext",value:function(e){var t=m.a.map(this.props.component.contexts,function(t){return t.selected=t.id===e&&!t.selected,t});this.props.update({contexts:t}),this.setState({selectedContext:e,open:!1})}},{key:"render",value:function(){var e=this,t=this.props.component.contexts;return o.a.createElement("div",{className:"ContextSelector"},o.a.createElement(L,{nullValue:"Default (None)",open:this.state.open,toggle:function(){return e.setState({open:!e.state.open})},select:function(t){return e.selectContext(t)},options:t}))}}]),t}(o.a.Component),A=(n(58),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.component.flows||[];return o.a.createElement("div",{className:"FlowBuilder"},o.a.createElement("ul",{className:"flow-menu"},e.map(function(e){return o.a.createElement("li",{key:e.id,className:"flow-menu-item"},e.title)})))}}]),t}(o.a.Component)),P=(n(60),n(62),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={highlightRef:null},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){this.props.highlightId&&this.state.highlightRef||(this.props.highlightId||this.state.highlightRef)&&this.setState({highlightRef:document.querySelector("#el-".concat(this.props.highlightId))||null})}},{key:"renderHighlight",value:function(e){var t={borderTopWidth:e.style.borderTopWidth,borderRightWidth:e.style.borderRightWidth,borderBottomWidth:e.style.borderBottomWidth,borderLeftWidth:e.style.borderLeftWidth,width:"".concat(e.offsetWidth,"px"),height:"".concat(e.offsetHeight,"px"),top:"".concat(e.offsetTop,"px"),left:"".concat(e.offsetLeft,"px")},n={top:"-".concat(e.style.marginTop||"0px"),right:"-".concat(e.style.marginRight||"0px"),bottom:"-".concat(e.style.marginBottom||"0px"),left:"-".concat(e.style.marginLeft||"0px")},a={paddingTop:e.style.paddingTop,paddingRight:e.style.paddingRight,paddingBottom:e.style.paddingBottom,paddingLeft:e.style.paddingLeft};return o.a.createElement("div",{className:"highlighter",style:t},o.a.createElement("div",{className:"highlight-margin-box",style:n}),o.a.createElement("div",{className:"highlight-padding-box"}),o.a.createElement("div",{className:"highlight-content-box",style:a}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"Canvas"},e.props.component&&e.props.component.elements.length?o.a.createElement(C,{components:e.props.components,component:e.props.component}):null,o.a.createElement("div",{className:"overlay"},e.state.highlightRef?e.renderHighlight(e.state.highlightRef):null))}}]),t}(o.a.Component)),H=function(e){function t(e){var n;Object(s.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).listenerId=h.hashString();var a=m.a.cloneDeep(e.component);return a.contexts=m.a.map(a.contexts,function(e){return e.selected=!1,e}),n.state={openId:null,component:a,contexts:{}},y.on("appClick",function(){n.setState({openId:null})},n.listenerId),n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){y.off("appClick",this.listenerId)}},{key:"toggle",value:function(e,t){e.stopPropagation(),this.setState({openId:this.state.openId===t?null:t})}},{key:"selectContext",value:function(e,t,n){e.stopPropagation(),this.setState(function(e){var a=m.a.cloneDeep(e.contexts);if(a[t]===n)return null;a[t]=n;var o=m.a.cloneDeep(e.component),i=m.a.values(a);return o.contexts=m.a.map(o.contexts,function(e){return e.selected=i.indexOf(e.id)>-1,e}),{component:o,openId:null,contexts:a}})}},{key:"select",value:function(e){this.setState(function(t){var n=m.a.map(t.component.states,function(t){return t.selected=t.id===e,t}),a=t.component;return a.states=n,{component:a}})}},{key:"forward",value:function(){this.setState(function(e){var t=e.component,n=m.a.findIndex(t.states,{selected:!0}),a=-1===n?0:n+1;return a>=t.states.length&&(a=0),t.states[n]&&(t.states[n].selected=!1),t.states[a].selected=!0,{component:t}})}},{key:"back",value:function(){this.setState(function(e){var t=m.a.cloneDeep(e.component),n=m.a.findIndex(t.states,{selected:!0}),a=-1===n?0:n-1;return-1===a&&(a=t.states.length-1),t.states[n]&&(t.states[n].selected=!1),t.states[a].selected=!0,{component:t}})}},{key:"render",value:function(){var e=this,t=this.state.component;return o.a.createElement("div",{className:"Preview"},o.a.createElement("div",{className:"side-panel"},o.a.createElement("ul",{className:"dimension-menu"},t.dimensions.map(function(n){var a=m.a.find(t.contexts,{id:e.state.contexts[n.id]||""})||{},i=m.a.filter(t.contexts,{dimension_id:n.id}),r=n.id===e.state.openId;return o.a.createElement("li",{key:n.id,className:"dimension-menu-item"},o.a.createElement("h5",null,n.title),o.a.createElement("div",{className:"dimension-dropdown ".concat(r?"open":"")},o.a.createElement("h4",{className:"dimension-dropdown-title",onClick:function(t){return e.toggle(t,n.id)}},a.title||"Default (None)",o.a.createElement("i",{className:"fa fa-chevron-".concat(r?"up":"down")})),o.a.createElement("ul",{className:"dropdown-menu"},o.a.createElement("li",{className:"dropdown-menu-item",onClick:function(t){return e.selectContext(t,n.id,null)}},"Default (None)"),i.map(function(t){return o.a.createElement("li",{key:t.id,className:"dropdown-menu-item ".concat(t.id===a.id?"selected":""),onClick:function(a){return e.selectContext(a,n.id,t.id)}},t.title)}))))}))),o.a.createElement("div",{className:"main-panel"},o.a.createElement(P,{components:this.props.components,component:t})))}}]),t}(o.a.Component),K=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).saved=!0,n.state={highlightId:null,component:e.component,tab:"elements",tabs:[{id:"elements",title:"Elements",tag:"Build"},{id:"context",title:"Context",tag:"Build"},{id:"style",title:"Style",tag:"Design"},{id:"flow",title:"Flow",tag:"Design"},{id:"inspect",title:"Inspect",tag:"View"},{id:"preview",title:"Preview",tag:"View"}]},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"dragOver",value:function(){this.setState(function(e){var t=m.a.cloneDeep(e.component);return t.elements=m.a.map(t.elements,function(e){return e.targeted=!1,e}),{component:t}})}},{key:"updateTitle",value:function(e){this.setState(function(t){var n=m.a.cloneDeep(t.component);return n.title=e,{component:n}})}},{key:"render_elements",value:function(){var e=this;return o.a.createElement("div",{className:"build"},o.a.createElement(E,{components:this.props.components,component:this.state.component,update:function(t){return e.updateComponent(t)}}))}},{key:"render_context",value:function(){var e=this;return o.a.createElement("div",{className:"context"},o.a.createElement(R,{component:this.state.component,update:function(t){return e.updateComponent(t)}}))}},{key:"highlight",value:function(e){this.setState({highlightId:e})}},{key:"render_style",value:function(){var e=this;return o.a.createElement("div",{className:"style"},o.a.createElement("div",{className:"style-section"},o.a.createElement("h4",{className:"subtitle"},"Element"),o.a.createElement(x,{components:this.props.components,highlight:function(t){return e.highlight(t)},update:function(t){return e.updateComponent(t)},component:this.state.component})),o.a.createElement("div",{className:"style-section"},o.a.createElement("h4",{className:"subtitle"},"Context"),o.a.createElement(W,{update:function(t){return e.updateComponent(t)},component:this.state.component})),o.a.createElement("div",{className:"style-section expand"},o.a.createElement("h4",{className:"subtitle"},"Canvas"),o.a.createElement(_,{highlightId:this.state.highlightId,component:this.state.component,components:this.props.components})),o.a.createElement("div",{className:"style-section"},o.a.createElement("h4",{className:"subtitle"},"Swatch"),o.a.createElement(j,{update:function(t){return e.updateComponent(t)},filterContext:!1,component:this.state.component})))}},{key:"render_flow",value:function(){return o.a.createElement("div",{className:"flow"},o.a.createElement(A,{component:this.state.component}))}},{key:"render_inspect",value:function(){return o.a.createElement("div",{className:"inspect"},o.a.createElement("p",null,"Coming soon"))}},{key:"render_preview",value:function(){return o.a.createElement("div",{className:"preview"},o.a.createElement(H,{components:this.props.components,component:this.state.component}))}},{key:"updateComponent",value:function(e){this.setState(function(t){var n=t.component;return m.a.merge(n,e),m.a.forIn(e,function(e,t){n[t]=e}),{component:n}})}},{key:"selectTab",value:function(e){this.setState({tab:e})}},{key:"home",value:function(){var e=this;if(this.saved)return this.props.exit();y.trigger("modal",function(){return o.a.createElement(b,{message:"You have unsaved progress. Are you sure you want to leave?",yes:"Yes",no:"No",confirm:function(t){y.trigger("modal",null),t&&e.props.exit()}})})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"NavTab",onDragOver:function(){return e.dragOver()}},o.a.createElement("div",{className:"tab-header"},o.a.createElement("h1",{className:"tab-header-title"},o.a.createElement("i",{onClick:function(){return e.home()},className:"fa fa-home tab-header-title-icon"})),o.a.createElement("div",{className:"meta-info"},o.a.createElement("input",{placeholder:"Enter a name",type:"text",value:this.state.component.title,onChange:function(t){return e.updateTitle(t.target.value)}}),o.a.createElement(M,{saved:function(t){return e.saved=t},component:this.state.component})),o.a.createElement("ul",{className:"tab-header-list"},this.state.tabs.map(function(t){return o.a.createElement("li",{key:"t_".concat(t.id),onClick:function(){return e.selectTab(t.id)},className:"tab-header-item ".concat(t.id===e.state.tab?"active":"")},o.a.createElement("small",{className:"tab-header-sub-title ".concat(t.tag)},t.tag),"setup"===t.id&&e.state.component.title?e.state.component.title:t.title)}))),o.a.createElement("div",{className:"tab-body"},this["render_".concat(this.state.tab)]()))}}]),t}(o.a.Component),V=(n(64),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={sound:!0,playIndex:0},e.tutorial&&window.setTimeout(function(){n.play()},1e3),n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"back",value:function(){var e=this;this.setState(function(e){return{playIndex:e.playIndex-1}},function(){e.play()})}},{key:"forward",value:function(){var e=this;this.setState(function(e){return{playIndex:e.playIndex+1}},function(){e.play()})}},{key:"play",value:function(){this.state.sound&&window.responsiveVoice.speak(this.props.tutorial.instructions[this.state.playIndex])}},{key:"pause",value:function(){window.responsiveVoice.pause()}},{key:"toggleSound",value:function(){this.state.sound&&this.pause(),this.setState({sound:!this.state.sound})}},{key:"render",value:function(){var e=this,t=this.props.tutorial;return t?o.a.createElement("div",{className:"Tutorial"},o.a.createElement("button",{disabled:0===this.state.playIndex,className:"tutorial-btn",onClick:function(){return e.back()}},o.a.createElement("i",{className:"fa fa-arrow-left"})),o.a.createElement("p",{className:"tutorial-message"},t.instructions[this.state.playIndex]),o.a.createElement("div",{className:"tutorial-cta"},o.a.createElement("button",{className:"tutorial-btn",onClick:function(){return e.toggleSound()}},o.a.createElement("i",{className:"fa fa-microphone".concat(this.state.sound?"":"-slash")})),o.a.createElement("button",{className:"tutorial-btn",onClick:function(){return e.play()}},o.a.createElement("i",{className:"fa fa-play"})),o.a.createElement("button",{className:"tutorial-btn",onClick:function(){return e.pause()}},o.a.createElement("i",{className:"fa fa-pause"})),o.a.createElement("button",{disabled:this.state.playIndex===t.instructions.length-1,className:"tutorial-btn",onClick:function(){return e.forward()}},o.a.createElement("i",{className:"fa fa-arrow-right"})))):null}}]),t}(o.a.Component)),Z=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={tutorial:null,component:null,components:[]},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"loadTutorial",value:function(e){this.setState({tutorial:e})}},{key:"begin",value:function(e){var t=v.components();this.setState({component:e,components:m.a.filter(t,function(t){return t.id!==e.id})})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"Test"},e.state.tutorial?o.a.createElement(V,{tutorial:e.state.tutorial}):null,e.state.component?o.a.createElement(K,{exit:function(){return e.setState({component:null})},components:e.state.components,component:e.state.component}):o.a.createElement(w,{tutorial:function(t){return e.loadTutorial(t)},begin:function(t){return e.begin(t)}}))}}]),t}(o.a.Component),q=(n(66),function(e){function t(e){var n;return Object(s.a)(this,t),n=Object(c.a)(this,Object(d.a)(t).call(this,e)),y.on("modal",function(e){n.setState({renderFn:e})}),n.state={renderFn:null},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"Modal ".concat(this.state.renderFn?"open":"")},o.a.createElement("div",{className:"modal-content"},this.state.renderFn?this.state.renderFn():null))}}]),t}(o.a.Component)),U=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(d.a)(t).call(this,e))).onDragHandlerId=y.on("beginDrag",function(){n.setState({dragging:!0})}),n.throttledMove=m.a.throttle(n.appMove,25),n.state={dragging:!1},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"appClick",value:function(e){y.trigger("appClick",e)}},{key:"appMove",value:function(e){this.state.dragging&&y.trigger("appDrag",{rect:e})}},{key:"appRelease",value:function(e){this.setState({dragging:!1}),y.trigger("appDragEnd")}},{key:"appLeave",value:function(e){this.setState({dragging:!1})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"App",onClick:function(t){return e.appClick(t)},onMouseUp:function(t){return e.appRelease(t)},onMouseMove:function(t){return e.throttledMove({x:t.clientX,y:t.clientY})},onMouseLeave:function(t){return e.appLeave(t)}},o.a.createElement(Z,null),o.a.createElement(q,null))}}]),t}(o.a.Component);r.a.render(o.a.createElement(U,null),document.getElementById("root"))}],[[10,2,1]]]);
//# sourceMappingURL=main.d8289778.chunk.js.map